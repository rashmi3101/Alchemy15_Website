define("cloud/mixins/cloudBaseUrlMixin",[],function(){"use strict";function a(a){var b=a.wixCloudBaseDomain;return"/"!==b.substr(-1)&&(b+="/"),b}return{getBaseUrl:function(){var b=this.getAppData(),c=b.extensionId,d=b.instance,e=b.applicationId,f=this.props.compData.componentUrl,g=this.props.siteData.rendererModel.cloudVersions[e],h=this.getViewMode(),i=this.props.siteData.serviceTopology,j=a(i);return"http://"+c+"."+j+d+"/"+g+"/"+h+"/"+f}}}),define("cloud/mixins/cloudUrlBuilderMixin",["lodash","utils"],function(a,b){"use strict";function c(a,b){return a.mutateIframeUrlQueryParam&&(b=a.mutateIframeUrlQueryParam(b)),b}return{buildUrl:function(d){var e=b.urlUtils.parseUrl(d),f={compId:this.props.id,deviceType:this.getDeviceType(),locale:this.props.siteData.publicModel.language};return e.search=null,f=c(this,f),a.assign(e.query,f),this.mutateIframeSrc&&(e=this.mutateIframeSrc(e)),b.urlUtils.buildFullUrl(e)}}}),define("cloud/components/cloudWidget",["lodash","skins","react","core","tpa","cloud/mixins/cloudBaseUrlMixin","cloud/mixins/cloudUrlBuilderMixin"],function(a,b,c,d,e,f,g){"use strict";var h=d.compFactory,i=d.compMixins,j={displayName:"CloudWidget",mixins:[i.skinBasedComp,e.tpaMixins.tpaCompBase,g,e.tpaMixins.tpaCompApi,f],mutateIframeUrlQueryParam:function(a){return a.width=this.props.style.width,a}};return h.register("wysiwyg.viewer.components.cloud.CloudWidget",j),j}),define("cloud/components/cloudGluedWidget",["lodash","skins","react","core","tpa","cloud/mixins/cloudBaseUrlMixin","cloud/mixins/cloudUrlBuilderMixin"],function(a,b,c,d,e,f,g){"use strict";var h=d.compFactory,i=d.compMixins,j={displayName:"CloudGluedWidget",mixins:[i.skinBasedComp,e.tpaMixins.tpaCompBase,g,e.tpaMixins.tpaCompApi,f],mutateIframeUrlQueryParam:function(a){return a.width=this.props.style.width,a},mutateSkinProperties:function(a){var b=a[""].style;return b.zIndex=2,this.state&&this.state.width&&(b.width=this.state.width),this.state&&this.state.height&&(b.height=this.state.height),a}};return h.register("wysiwyg.viewer.components.cloud.CloudGluedWidget",j),j}),define("cloud/layout/cloudGluedWidgetPlacement",[],function(){"use strict";function a(a){return a.gluedOptions.placement}return{getDefaultPlacement:a}}),define("cloud/layout/cloudLayout",["layout","tpa","cloud/layout/cloudGluedWidgetPlacement"],function(a,b,c){"use strict";var d=new b.GluedWidgetPatcher(c);return a.registerCustomMeasure("wysiwyg.viewer.components.cloud.CloudWidget",b.tpaPatcher.measureTPA),a.registerCustomMeasure("wysiwyg.viewer.components.cloud.CloudPage",b.tpaPatcher.measureTPA),a.registerRequestToMeasureDom("wysiwyg.viewer.components.cloud.CloudWidget"),a.registerRequestToMeasureDom("wysiwyg.viewer.components.cloud.CloudGluedWidget"),a.registerRequestToMeasureDom("wysiwyg.viewer.components.cloud.CloudPage"),a.registerRequestToMeasureChildren("wysiwyg.viewer.components.cloud.CloudPage",[["iframe"]]),a.registerPatcher("wysiwyg.viewer.components.cloud.CloudGluedWidget",d.patchGluedWidget),a.registerPatcher("wysiwyg.viewer.components.cloud.CloudPage",b.tpaSectionPatcher.patchTPASection),{}}),define("cloud",["cloud/components/cloudWidget","cloud/components/cloudGluedWidget","cloud/layout/cloudLayout"],function(a){"use strict";return{widget:a}});
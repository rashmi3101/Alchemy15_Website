define("wixappsCore/core/proxyFactory",["lodash","react"],function(a,b){"use strict";function e(a,b){b.displayName=a+"Proxy",c[a]=b}function f(e){a.has(c,e)||(e="View");var f=d[e];if(f)return f;var g=c[e];if(!g)throw"no such proxy definition for name: "+e;return f=b.createClass(g),d[e]=f,f}function g(a){delete d[a]}function h(b,d){return c.hasOwnProperty(b)?void a.merge(c[b],d):void console.error("Trying to extend proxy ["+b+"] but the proxy is not defined")}function i(b){return a.has(c,b)}var c={},d={},j=function(a){return{displayName:a,render:function(){return b.DOM.div(null,a)}}},k=["Label","ClippedParagraph","ClippedParagraph2","Date","DateEdit","TimeEdit","InlineText","InlineTextInput","TextInput","ErasableTextInput","NumberInput","NumericStepper","CheckBox","CheckBoxViewProxy","RichTextEditor","RichTextEditorInline","Price","EnumSelector","Image","Video","VideoSelector","VideoThumb","ImageSelector","ImageInput","VerticalList","FlowList","MultiColumn","VerticalListEditor","DraggableListItem","Box","VBox","HBox","Field","FieldBox","TextField","DataEditField","Stack","Css","VSpacer","HSpacer","InlineSpacer","HorizontalLine","VerticalLine","Switch","SwitchBox","OptionalArea","SuperFlow","Button","Button2","Table","Deck","TabMenu","Icon","StringArrayInput","Toggle","MusicPlayer","AudioInput","InlineSvg","Link","LinkSelector","OptionsList","SelectOptionsList","OptionsListInput","ComboBox","RadioGroup","CheckBoxGroup","TextArea","Area","Container","ZoomLink","AppLink","ZoomLayout","FixedRatioLayout","GoogleMap","LocationSelector","TagInput","DragAndDropVList","List2","PaginatedList","UnstyledLabel","TooltipIcon","Help","IFrame","ImageButton","TPAGallery","MediaRichTextEditorInline","MediaLabel","MediaThumb","Gallery","GridGallery","SliderGallery","ColumnGallery","PaginatedColumnGallery"];return a.map(k,function(a){e(a,j(a))}),{getProxyClass:f,register:e,invalidate:g,extend:h,isValidProxyName:i}}),define("wixappsCore/core/ViewContextMap",["lodash"],function(a){"use strict";function d(b){return a.isString(b)?a.compact(b.split(/[\.\[\]]/)):b}function e(c){return a.initial(c.split(b)).join(b)}function f(a,c,d){return a?c&&this.contextMap[c]?c:a+b+String(d.index++):"0"}function g(b,c,d){for(var f=b;f;){if(a.has(this.contextMap[f][c],d))return this.contextMap[f][c];f=e(f)}return void 0}function h(){this.contextMap={}}function i(a,b,c){for(;a.length>1;)b=b[a.shift()];b[a.shift()]=c}var b="_",c=".";return h.prototype={resolvePath:function(b,c){var f=a.flatten(a.map(d(c),d)),g=b,h=[];if(a.each(f,function(a){if("parent"===a){if(g=e(g),!g)throw"Error:: no parent context."}else"this"!==a&&h.push(a)}),this.contextMap[g].scopePath.length&&a.all(this.contextMap[g].scopePath,a.isArray)&&h.length&&a.isNumber(h[0])){var i=h.shift();return this.contextMap[g].scopePath[i].concat(h)}return this.contextMap[g].scopePath.concat(h)},newContextForDataItem:function(b,c,d,e,g,h){var i=f.call(this,b,h,this.contextMap[b]);return this.contextMap[i]&&a.isEqual(this.contextMap[i].scopePath,c)||(this.contextMap[i]={vars:d||{},events:e||{},functionLibrary:g||{},scopePath:c,index:0}),i},newContextForDataPath:function(b,d,e,f,g,h){var i=this.contextMap[b],j=a.isArray(d)?d:d.split(c);j=a.flatten(a.map(j,function(b){return a.isString(b)?b.split(c):b})),j=a.without(j,"this");var k=i.scopePath.concat(j);return this.newContextForDataItem(b,k,e,f,g,h)},getVar:function(a,b){b=b.replace(/^\$/,"");var c=g.call(this,a,"vars",b);return c&&c[b]},setVar:function(b,c,d){var e=c.replace(/^\$/,"").split("."),f=a.first(e),h=g.call(this,b,"vars",f);h&&i(e,h,d)},overrideContextVars:function(b,c){if(!this.hasContext(b))throw"Context does not exist";a.extend(this.contextMap[b].vars,c)},getEvent:function(a,b){var c=g.call(this,a,"events",b);return c&&c[b]},getExpressionsFunctions:function(b){for(var c=b,d={};c;)a.defaults(d,this.contextMap[c].functionLibrary),c=e(c);return d},resetContext:function(){this.contextMap={}},hasContext:function(b){return a.has(this.contextMap,b)}},h}),define("wixappsCore/core/expressions/functionLibrary",["lodash"],function(a){"use strict";function d(){var b={},d=function(b,c,e){a(c).keys().forEach(function(a){var f=c[a];"function"==typeof f?b[e+a]=f:"object"==typeof f&&d(b,f,a+".")})};return d(b,c,""),b}function e(a){this.siteData=a}var b={font_0:"Title",font_1:"Menu",font_2:"Page title",font_3:"Heading XL",font_4:"Heading L",font_5:"Heading M",font_6:"Heading S",font_7:"Body L",font_8:"Body M",font_9:"Body S",font_10:"Body XS"},c={and:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]===!1)return!1;return!0},or:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]===!0)return!0;return!1},"if":function(a,b,c){return a?b:c},eq:function(a,b){return a===b},ne:function(a,b){return a!==b},not:function(a){return!a},"!":function(a){return!a},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},lt:function(a,b){return b>a},lte:function(a,b){return b>=a},toString:function(a){return a.toString?a.toString():""+a},toJson:function(a){return JSON.stringify(a)},mod:function(a,b){return a%b},add:function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b];return a},mult:function(){for(var a=1,b=0;b<arguments.length;b++)a*=arguments[b];return a},sub:function(a,b){return a-b},div:function(a,b){return a/b},match:function(a,b,c){return a===b?c:void 0},"true?":function(a,b){return Boolean(a)===!0?b:void 0},"false?":function(a,b){return Boolean(a)===!1?b:void 0},"else":function(a,b){return void 0===a?b:a},map:function(){for(var a=1;a<arguments.length-1;a+=2)if(arguments[0]===arguments[a])return arguments[a+1];return arguments.length%2===0?arguments[arguments.length-1]:arguments[0]},Math:{floor:function(a){return Math.floor(a)},round:function(a){return Math.round(a)}},Array:{length:function(a){return a.length},isEmpty:function(a){return null===a||0===a.length},slice:function(a,b,c){return a.slice(b,c)},join:function(a,b){return a.join(b)},filter:function(a,b,c){return a.filter(function(a){return c.contains(a[b])})},itemAt:function(a,b){return a[b]}},RichText:{isEmpty:function(a){return"<div></div>"===a.text}},String:{length:function(a){return a.length},isEmpty:function(a){return null===a||0===a.length},charAt:function(a,b){return a.charAt(b)},charCodeAt:function(a,b){return a.charCodeAt(a,b)},concat:function(){return a.reduce(arguments,function(a,b){return a.concat(b)},"")},indexOf:function(a,b){return a.indexOf(b)},lastIndexOf:function(a,b){return a.lastIndexOf(b)},match:function(a,b){return a.match(new RegExp(b))},replace:function(a,b,c){return a.replace(b,c)},search:function(a,b){return a.search(new RegExp(b))},slice:function(a,b,c){return a.slice(b,c)},split:function(a,b){return a.split(b)},substr:function(a,b,c){return a.substr(b,c)},substring:function(a,b,c){return a.substring(b,c)},toLowerCase:function(a){return a.toLowerCase()},toUpperCase:function(a){return a.toUpperCase()},contains:function(a,b){return a.contains(b)},trim:function(a){return a.trim()},toInt:function(a){return parseInt(a,10)},toFloat:function(a){return parseFloat(a)}},Date:{createDate:function(a){return a?new Date(a):new Date},getBefore:function(a,b,c,d){var e=d?new Date(d):new Date;return e.setDate(e.getDate()-a),e.setMonth(e.getMonth()-b),e.setFullYear(e.getFullYear()-c),e},getAfter:function(a,b,c,d){var e=d?new Date(d):new Date;return e.setDate(e.getDate()-a),e.setMonth(e.getMonth()-b),e.setFullYear(e.getFullYear()-c),e}},Theme:{getColor:function(a){return this.siteData.getColor(a)}},Styles:{fontToTextStyle:function(a){return b["font_"+a]}}};return e.prototype=d(),e}),define("wixappsCore/core/viewsRenderer",["react","lodash","wixappsCore/core/proxyFactory","wixappsCore/core/ViewContextMap","wixappsCore/core/expressions/functionLibrary"],function(a,b,c,d,e){"use strict";return{componentWillMount:function(){this.viewContextMap=new d(this),this.functionLibrary=new e(this.props.siteData)},getDataAspect:function(){return this.props.siteAPI.getSiteAspect("wixappsDataAspect")},getAppService:function(){return this.props.siteData.getClientSpecMapEntry(this.props.compData.appInnerID)},getPackageName:function(a){var b=this.getAppService(a||this.props.siteData);return b.packageName||b.type},getAppDescriptor:function(){var a=this.getDataAspect(),b=this.getPackageName();return a.getDescriptor(b)},getFormatName:function(){return this.props.siteData.isMobileView()?"Mobile":""},getNormalizedDataPath:function(a,b){return null===a?b:this.viewContextMap.resolvePath(a,b)},getDataByPath:function(a,b){if(null===a)return this.getDataByFullPath(b);var c=this.getPackageName(),d=this.getDataAspect(),e=this.getNormalizedDataPath(a,b);return d.getDataByPath(c,e)},getDataByFullPath:function(a){function e(a){return b.flatten(b.map(a,function(a){return b.isString(a)?a.split("."):a}))}var c=this.getPackageName(),d=this.getDataAspect(),f=[];return b.all(a,b.isArray)?f=b.map(a,function(a){var c=e(a);return b.without(c,"this")}):(f=e(a),f=b.without(f,"this")),d.getDataByPath(c,f)},setDataByPath:function(a,b,c){var d=this.getPackageName(),e=this.getDataAspect(),f=this.getNormalizedDataPath(a,b);return e.setDataByPath(d,f,c)},setVar:function(a,b,c,d){this.viewContextMap.setVar(a,b,c),d||(this.registerReLayout(),this.forceUpdate())},getCompExtraData:function(){var a=this.getDataAspect();return a.getExtraDataByCompId(this.getPackageName(),this.props.compData.id)},componentWillUpdate:function(){"content"!==this.state.$displayMode||b.isEqual(this.rootDataItemRef,this.getRootDataItemRef())||this.viewContextMap.resetContext()},renderView:function(d){var e=this.getPackageName(),f={viewContextMap:this.viewContextMap,compId:this.props.id,structure:this.props.structure,siteAPI:this.props.siteAPI,siteData:this.props.siteData,pageData:this.props.pageData,compProp:this.props.compProp,loadedStyles:this.props.loadedStyles,viewName:this.getViewName(),formatName:this.getFormatName(),parentId:this.props.id,packageName:e,ref:"rootProxy",parentContextPath:null,getPartData:this.getPartData,getPartDefinition:this.getPartDefinition,resolveResourcePath:this.resolveResourcePath,getNormalizedDataPath:this.getNormalizedDataPath,getDataByPath:this.getDataByPath,setDataByPath:this.setDataByPath,getDataByFullPath:this.getDataByFullPath,getViewDataById:this.getViewDataById,getViewDef:this.getViewDef,getLocalizationBundle:this.getLocalizationBundle,setVar:this.setVar,classSet:this.classSet,functionLibrary:this.functionLibrary},g={viewName:f.viewName,partDirection:this.props.compProp.direction||"ltr"};return this.props.style&&this.props.style.width&&(g.compWidth=this.props.style.width),this.logic&&(f.logic=this.logic,this.logic.getViewVars&&(g=b.defaults(this.logic.getViewVars(this.getCompExtraData()),g))),this.rootDataItemRef=this.getRootDataItemRef(),f.contextProps={path:this.rootDataItemRef,vars:{view:g,proxy:{}},events:{},functionLibrary:{}},f.proxyLayout={direction:g.partDirection},d&&(f.proxyLayout.height=this.props.style.height),a.createElement(c.getProxyClass("View"),f)}}}),define("wixappsCore/core/viewsCustomizer",["lodash"],function(a){"use strict";function b(a,b){var d=[];return"vars"===b.fieldId?d.push(a.vars):c(a,b,0,d),d}function c(b,d,e,f){var g=b.id||b.data||e;("*"===d.fieldId||d.fieldId===g)&&f.push(b),b.comp&&b.comp.items&&a.each(b.comp.items,function(a,b){c(a,d,b,f)}),b.comp&&b.comp.templates&&a.each(b.comp.templates,function(a){c(a,d,0,f)}),b.comp&&b.comp.cases&&a.each(b.comp.cases,function(b){a.isArray(b)?a.each(b,function(a){c(a,d,0,f)}):c(b,d,0,f)}),b.comp&&b.comp.columns&&"Table"===b.comp.name&&a.each(b.comp.columns,function(b){a.each(["item","header","footer"],function(a){void 0!==b[a]&&c(b[a],d,0,f)})})}function d(a,b){return!("*"!==b.forType&&a.forType!==b.forType||"*"!==b.view&&a.name!==b.view||"*"!==b.format&&(a.format||"")!==(b.format||""))}function e(b){var c=a.rest(arguments),e=this;return a.each(c,function(c){a.each(c,function(a){d(b,a)&&e.applyCustomization(b,a)})}),b}function f(c,d){var e=c.format||"",f=d.format||"";if("*"===f||f===e){var g=b(c,d);a.each(g,function(b){if(a.isPlainObject(b))for(var c=b,e=d.key.split("."),f=0;f<e.length;f++){var g=e[f];if(f===e.length-1){var h=d.value;/^\s*(\+|-)?\d+\s*$/.test(d.value)&&(h=parseInt(h,10)),void 0===h?delete c[g]:c[g]=h}else c[g]||(c[g]={}),c=c[g]}})}}return{customizeView:e,applyCustomization:f}}),define("wixappsCore/core/logicFactory",[],function(){"use strict";var a={};return{register:function(b,c){a[b]=c},getLogicClass:function(b){return a[b]}}}),define("wixappsCore/core/styleData",[],function(){"use strict";function c(b,c){return a[c]&&a[c][b]}function d(a){return b[a]&&b[a].skin}function e(a){return b[a]&&b[a].style}var a={Area:{"default":{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},ecomCouponBox:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_cbx1"},ecomCartHeader:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ch1"},ecomEmptyCartBG:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ecbg1"}},Button:{"default":{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"}},Button2:{"default":{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"},ecomFeedbackContinueShopping:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping",style:"ecom_fmcs1"},ecomFeedbackContinueShopping2:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping2",style:"ecom_fmcs2"},ecomFeedbackCheckout:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackCheckoutButton",style:"ecom_fmc1"}},ComboBox:{"default":{skin:"wysiwyg.viewer.skins.input.ComboBoxInputSkinNoValidation",style:"wa_cb1"},ecomComboBox:{skin:"wixapps.integration.skins.ecommerce.inputs.ComboBoxInputSkin",style:""},ecomShippingComboBox:{skin:"wysiwyg.viewer.skins.appinputs.EcomComboBoxInputSkin",style:"ecom_scb1"},wixAppsGui:{skin:"wixapps.integration.skins.inputs.ComboBoxInputSkin",style:""}},TextArea:{"default":{skin:"wysiwyg.viewer.skins.input.TextAreaInputSkin",style:"wa_tai1"},ecomTextArea:{skin:"wixapps.integration.skins.ecommerce.inputs.TextAreaInputSkin",style:""}},TextInput:{"default":{skin:"wysiwyg.viewer.skins.appinputs.AppsTextInputSkin",style:"wa_ti1"},ecomTextInput:{skin:"wysiwyg.viewer.skins.appinputs.EcomTextInputSkin",style:"ecom_ti1"}},ErasableTextInput:{"default":{skin:"wysiwyg.viewer.skins.appinputs.EcomErasableTextInputSkin",style:"ecom_eti1"}},Gallery:{"default":{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin",style:"pagg1"},productGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridSimple",style:"pgg_cg0"},contentGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg1"},minipostGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridNoDetail",style:"pgg_cg2"},hoverGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoBG",style:"pgg_cg3"},blogGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg4"}},Video:{"default":{skin:"wysiwyg.viewer.skins.video.VideoDefault",style:"vl"},mediaLabel:{skin:"wysiwyg.viewer.skins.VideoSkin"}}},b={Container:{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},Image:{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"},VideoThumb:{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"},HorizontalLine:{skin:"wysiwyg.viewer.skins.FiveGridLineSkin",style:"hl1"},VerticalLine:{skin:"wysiwyg.viewer.skins.VerticalLineSkin",style:"vl1"},Table:{skin:"wysiwyg.viewer.skins.table.TableComponentDefaultSkin",style:"tblc1"},VerticalList:{skin:"skins.core.InlineSkin"},List2:{skin:"skins.core.InlineSkin"},PaginatedList:{skin:"skins.core.InlineSkin"},FlowList:{skin:"skins.core.InlineSkin"},Date:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"},MediaLabel:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"},Label:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"},InlineText:{skin:"skins.core.VerySimpleSkin"},ClippedParagraph:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"},ClippedParagraph2:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"},Icon:{skin:"wixapps.integration.skins.IconSkin"},ImageButton:{skin:"wixapps.integration.skins.ImageButtonSkin"},Toggle:{skin:"wixapps.integration.skins.ToggleSkin"},SliderGallery:{skin:"wysiwyg.viewer.skins.galleryselectableslider.SelectableSliderGalleryDefaultSkin"},Video:{skin:"wysiwyg.viewer.skins.video.VideoDefault",style:"vl"},NumericStepper:{skin:"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin",style:"nums1"}};return{styleNSMap:a,defaultStylesMap:b,resolveStyleNS:c,getDefaultSkinName:d,getDefaultStyleName:e}}),define("wixappsCore/core/styleCollector",["lodash","core","skins","wixappsCore/core/styleData"],function(a,b,c,d){"use strict";function f(b,c,d,f){var i,g=b&&d[b]&&e[d[b].skin],h=c&&e[c];i=g?b:h?c:"",i&&!f[i]&&(f[i]="s"+a.size(f))}function g(b,c,e){var h=b&&b.comp&&b.comp.style,i=b&&b.comp&&(b.comp.skin||d.getDefaultSkinName(b.comp.name));f(h,i,c,e);var j=["items","cases","templates"];a.each(j,function(d){b.comp&&b.comp[d]&&a.each(b.comp[d],function(b){a.isArray(b)?a.each(b,function(a){g(a,c,e)}):g(b,c,e)})})}function h(b,c){a.each(d.styleNSMap,function(d){a.each(d,function(a){f(a.style,a.skin,b,c)})}),a.each(d.defaultStylesMap,function(a){f(a.style,a.skin,b,c)})}var e=c.skins;return{collectViewStyles:g,addStyleIfNeeded:f,addDefaultStyles:h}}),define("wixappsCore/core/wixappsDataHandler",["lodash"],function(a){"use strict";function b(a,b){return a?(a.wixapps=a.wixapps||{},a.wixapps[b]=a.wixapps[b]||{},a.wixapps[b]):null}function c(a,c){var d=b(a,c);return d.descriptor?d.descriptor:null}function d(a,c,d){var e=b(a,c);return e[d]?e[d]:null}function e(a,c,d,e){var f=b(a,c);f[d]=e}function f(a,c,d){var e=b(a,c);delete e[d]}function g(a,c,d){var e=b(a,c);return e[d+"_extraData"]||null}function h(c,d,e){if(!a.isArray(e)||0===e.length)return[];if(a.all(e,a.isArray))return a.map(e,function(a){return h(c,d,a)});var f=a.clone(e),g=b(c,d);if(!g.items)return null;for(var i=g.items;f.length;){var j=f.shift();i=i[j]}return i}function i(c,d,e,f){for(var g=a.clone(e),h=b(c,d),i=h.items;g.length>1;){var j=g.shift();i=i[j]}i[g.shift()]=f}function j(a){return["wixapps",a]}function k(b,c,d,e){var f=l(c,d,e);a.merge(f,b)}function l(a,c,d){var e=b(a,c);return e.metadata=e.metadata||{},e.metadata[d]=e.metadata[d]||{},e.metadata[d]}function m(a,c,d){var e=b(a,c);e.metadata=e.metadata||{},e.metadata[d]=e.metadata[d]||{},e.metadata[d]={}}function n(a,c){var d=b(a,c);return d.metadata=d.metadata||{},d.metadata[c+"_metadata"]=d.metadata[c+"_metadata"]||{},d.metadata[c+"_metadata"]}function o(b,c,d){var e=n(c,d);a.merge(e,b)}return{getDescriptor:c,getDataByCompId:d,setDataForCompId:e,clearDataForCompId:f,getExtraDataByCompId:g,getDataByPath:h,setDataByPath:i,getSiteDataDestination:j,setCompMetadata:k,getCompMetadata:l,getPackageMetadata:n,setPackageMetadata:o,clearCompMetadata:m}}),define("wixappsCore/core/wixappsLogger",["lodash","logger"],function(a,b){"use strict";function f(a,e,f){try{var g={desc:e.description||d.GENERIC_ERROR.description,errorCode:e.code||d.GENERIC_ERROR.code,type:c.Type.ERROR,issue:e.subCategory||c.SubCategory.GENERAL,severity:e.severity||c.Severity.ERROR,category:e.category||c.Category.VIEWER};f=f||{},f.src=c.LISTS_EVENT_SOURCE,b.reportBI(a,g,f)}catch(h){}}function g(a,d,e){try{var f={type:c.Type.USER_ACTION,desc:d.description,biEventId:d.id,biAdapter:"lists",category:c.Category.VIEWER};e=e||{},e.src=c.LISTS_EVENT_SOURCE,b.reportBI(a,f,e)}catch(g){}}var c={LISTS_EVENT_SOURCE:60,Type:{ERROR:10,USER_ACTION:40},Category:{EDITOR:1,VIEWER:2,CORE:3,SERVER:4},SubCategory:{GENERAL:0,PROXY:1,APP_LOGIC:2,DATA_SERVICE:3,DATA_ITEMS:4,CORE_WIRING:5,DATA_EDITING:6,APP_BUILDER:7,APP_REPO_SERVICE:8},Severity:{RECOVERABLE:10,WARNING:20,ERROR:30,FATAL:40}},d={GENERIC_ERROR:{code:-2e4,description:"WixApps unspecified error"},APP_PART2_FAILED_TO_LOAD:{code:-20011,description:"Failed to load app part",subCategory:c.SubCategory.APP_BUILDER},DATA_SELECTOR_CONTAINS_NULL:{code:-20013,description:"A data selector returned from the server with a null id key.",subCategory:c.SubCategory.APP_BUILDER},MISSING_PERMALINK:{code:-22041,description:"Site data is missing the permalink data item"}};b.register("{%= name %}","error",d);var e={APP_BUILDER_PART_LOADED:{id:103,description:"App builder - part loaded in published"},APP_PART2_FAILED_TO_LOAD_DATA_SELECTOR:{id:135,description:"Failed to load data selector"},APP_PART2_FAILED_TO_LOAD_PART_DEFINITION:{id:136,description:"Failed to load app part definition"},VIEW_DEFINITION_NOT_FOUND:{id:137,description:"Failed to load view definition"},TAG_SELECTED_IN_VIEWER:{id:305,description:"User selected a tag in the viewer."}};return b.register("{%= name %}","event",e),{events:e,errors:d,reportError:f,reportEvent:g}}),define("wixappsCore/util/viewsUtils",["lodash"],function(a){"use strict";function b(c,d){c.id=c.id||c.data||"def_"+d;var e=d+1;return c.comp&&c.comp.items&&a.each(c.comp.items,function(a){e=b(a,e)}),c.comp&&c.comp.templates&&a.each(c.comp.templates,function(a){e=b(a,e)}),c.comp&&c.comp.cases&&a.each(c.comp.cases,function(c){a.isArray(c)?a.each(c,function(a){e=b(a,e)}):e=b(c,e)}),c.comp&&c.comp.columns&&"Table"===c.comp.name&&a.each(c.comp.columns,function(c){a.each(["item","header","footer"],function(a){void 0!==c[a]&&(e=b(c[a],e))})}),e}return{fillViewDefMissingIDs:function(a){b(a,0)},sanitizeCompId:function(a){return a.replace(/[\$:]/g,"")}}}),define("wixappsCore/core/expressions/expressionLexer",["lodash"],function(a){"use strict";function c(a){if(a.length){var b=d(a)||e(a)||f(a);return b?[b].concat(this.parseExpression(a.slice(b.length))):this.parseExpression(a.slice(1))}return[]}function d(c){var d=["'",'"'],e=function(a,c){if(a.length){if(b=a.charAt(0),"\\"===b&&a.length>1)return b+a.charAt(1)+e(a.slice(2),c);if(b!==c)return b+e(a.slice(1),c)}return""};return b=c.charAt(0),a.contains(d,b)?'"'+e(c.slice(1),b)+'"':void 0}function e(a){var b=/[\w\*\/\-\%\+\$]/,c=/[\w\*\/\-\%\+\.\$\[\]\?_]/,d=function(a){var b=a.charAt(0);return a.length&&b.match(c)?b+d(a.slice(1)):""},e=a.charAt(0);return e.match(b)?e+d(a.slice(1)):void 0}function f(a){return b=a.charAt(0),"("===b||")"===b?b:void 0}var b;return{parseExpression:c}}),define("wixappsCore/core/expressions/expressionParser",["wixappsCore/core/expressions/expressionLexer"],function(a){"use strict";function d(d){var g=a.parseExpression(d),h="("===g[0]?c:b,i=e(g,h);return f(i)}function e(a,b){if(a.length){var c=g(a,b)||i(a,b)||k(a,b);if(c)return[c.node].concat(e(c.next,b))}return[]}function f(a){if(a.length>0&&a.every(function(a){return"function"===a.type})){var b=a.slice(1).reduce(function(a,b){return{type:b.type,content:b.content,params:[a].concat(f(b.params))}},a[0]);return[b]}return a}function g(a,b){var d=b===c?0:1,f=b===c?1:0;if("("===a[d]&&"string"==typeof a[f]){var g=h(a);return{next:a.slice(g.length+3),node:{type:"function",content:a[f],params:e(g,b)}}}}function h(a){var b=function(a,c){if(!(a.length&&c>0))return[];var d=a[0],e=a.slice(1);switch(d){case"(":return[d].concat(b(e,c+1));case")":return[d].concat(b(e,c-1));default:return[d].concat(b(e,c))}};return b(a.slice(2),1).slice(0,-1)}function i(a){var b,c=a[0];return"true"===c?b=!0:"false"===c?b=!1:'"'===c.charAt(0)&&'"'===c.charAt(c.length-1)||"'"===c.charAt(0)&&"'"===c.charAt(c.length-1)?b=j(c.slice(1,c.length-1)):isNaN(parseFloat(c,10))?isNaN(parseInt(c,10))||(b=parseInt(c,10)):b=parseFloat(c,10),void 0!==b?{next:a.slice(1),node:{type:"primitive",content:b}}:void 0}function j(a){return a=a.replace(/\\/g,"")}function k(a){return{next:a.slice(1),node:{type:"ref",content:a[0]}}}var b=0,c=1;return{parseExpressionSource:d}}),define("wixappsCore/core/expressions/expression",["wixappsCore/core/expressions/expressionParser","lodash"],function(a,b){"use strict";function c(a){return b.isPlainObject(a)&&b.has(a,"$expr")}function d(b,c,d){var f=a.parseExpressionSource(c)[0];return e(b,f,c,d)}function e(a,c,d,e){function g(a){switch(a.type){case"primitive":return f(a.content);case"ref":return i(a);case"function":return h(a)}}function h(a){var c=b.map(a.params,function(a){return g(a)}),f=e[a.content];if(!f)throw new Error("Expression: "+d+" | Cannot resolve function "+a.content+"()");return f.apply(e,c)}function i(b){var c=a(b.content);if(void 0===c)throw new Error("Expression: "+d+" | Cannot resolve symbol "+b.content);return c}return g(c)}function f(a){return b.isString(a)?/^\s*(\+|-)?\d+\s*$/.test(a)?parseInt(a,10):"true"===a?!0:"false"===a?!1:"null"===a?null:a:a}return{isExpression:c,evaluate:d,convertStringToPrimitive:f}}),define("wixappsCore/core/styleTranslator",["lodash"],function(a){"use strict";function g(a){return{WebkitFlexDirection:b[a]||a,msFlexDirection:b[a]||a,flexDirection:b[a]||a}}function h(a,b){var c=1===String(a).split(" ").length;return"none"===a||"0"===a||0===a||""===a?"none":c&&"vertical"===b?a+" 1 auto":a}function i(a,b){var c=h(a,b);return{"min-width":0,WebkitFlex:c,msFlex:c,flex:c}}function k(b,c){return a.transform(b,function(b,d,e){var f=j[e];f?a.merge(b,f(d,c)):b[e]=d},{})}var b={horizontal:"row",vertical:"column"},c={start:"flex-start",end:"flex-end"},d=a.invert(c),e={top:"start",middle:"center",bottom:"end",left:"start",right:"end"},f={start:"flex-start",end:"flex-end"},j={"flex-direction":g,"box-orient":g,"box-flex":i,flex:i,"align-items":function(a){return{WebkitAlignItems:c[a]||a,msFlexAlign:d[a]||a,"align-items":c[a]||a,"align-self":c[a]||a}},"box-align":function(a){return a=e[a]||a,{WebkitBoxAlign:c[a]||a,WebkitAlignItems:c[a]||a,MozBoxAlign:c[a]||a,msFlexAlign:a,alignItems:c[a]||a,boxAlign:c[a]||a}},"justify-content":function(a){return{justifyContent:f[a]||a,WebkitJustifyContent:f[a]||a,MozJustifyContent:f[a]||a,msFlexPack:a,msJustifyContent:f[a]||a}},"box-shadow":function(a){return{"-webkit-box-shadow":a,"-moz-box-shadow":a,"box-shadow":a}},"border-radius":function(a){return{"-webkit-border-radius":a,"-moz-border-radius":a,"border-radius":a}}};return{translate:k}}),define("wixappsCore/util/spacersCalculator",["lodash"],function(a){"use strict";function c(c,d,e,f){e=e||"vertical",f=f||"ltr";var g={before:parseInt(d.spacerBefore||d.spacer,10),after:parseInt(d.spacerAfter||d.spacer,10)};return g.before&&(d[c+b[f][e].before]=g.before),g.after&&(d[c+b[f][e].after]=g.after),a.omit(d,["spacer","spacerBefore","spacerAfter"])}var b={rtl:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Right",after:"Left"}},ltr:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Left",after:"Right"}}};return{translateStaticSpacers:c.bind(null,"margin"),translateStaticSpacersXax:c.bind(null,"padding")}}),define("wixappsCore/core/wixappsConfiguration",[],function(){"use strict";var a=!1;return{shouldApplyAutomationAttributes:function(){return a},applyAutomationAttributes:function(){a=!0}}}),define("wixappsCore/core/wixappsPlugins",["lodash","wixappsCore/core/wixappsConfiguration"],function(a,b){"use strict";return{getAdditionalDomAttributes:function(c){var d={};return b.shouldApplyAutomationAttributes()&&(d=a.merge(d,{"data-vcview":c.props.viewName,"data-vcfield":c.getViewDefProp("id"),"data-vctype":c.props.forType,"data-proxy":c.constructor.displayName})),d}}}),define("wixappsCore/proxies/mixins/baseProxy",["lodash","core","react","wixappsCore/util/viewsUtils","wixappsCore/core/proxyFactory","wixappsCore/core/styleData","wixappsCore/core/expressions/expression","wixappsCore/core/styleTranslator","wixappsCore/util/spacersCalculator","utils","wixappsCore/core/wixappsPlugins"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){var b={},c=this.getCompProp("hoverVar");c&&(b.onMouseEnter=this.handleMouseOver,b.onMouseLeave=this.handleMouseOut);var d=this.getCompProp("events");return a.transform(d,function(a,b,c){switch(j.stringUtils.startsWith(c,"dom:")&&(c="on"+c[4].toUpperCase()+c.substring(5),a[c]=this.handleViewEvent),c){case"click":a.onClick=this.handleViewEvent}},b,this)}function m(b){return a.isPlainObject(b)&&a.has(b,"_iid")}function n(b){return a.isPlainObject(b)&&b._type&&j.stringUtils.startsWith(b._type,"wix:Ref")}function o(a){return[a.collectionId,a.itemId]}function p(){var b=this.props.viewContextMap.getExpressionsFunctions(this.contextPath);return a.assign(this.props.functionLibrary,b)}function q(b,c){a.isUndefined(b)&&(b=this.contextPath);var d,e=c.split("."),f=e.shift();if("$"===a.first(f))if(d=this.props.viewContextMap.getVar(b,f),g.isExpression(d))d=g.evaluate(q.bind(this,b),d.$expr,p.call(this,b));else for(;e.length;)d=d[e.shift()];else d=this.getDataByPath(c);return g.convertStringToPrimitive(d)}function r(a){return j.stringUtils.startsWith(a,"$")}function s(){var b=this.getViewDefProp("value");if(!a.isUndefined(b))return b;var c=this.props.viewDef&&this.props.viewDef.data||"this";return g.isExpression(c)?g.evaluate(q.bind(this,this.contextPath),c.$expr,p.call(this,this.contextPath)):r(c)?this.getVar(c):this.getDataByPath(c,!0)}function t(){return d.sanitizeCompId(a.compact([this.props.compId,this.props.viewId,this.contextPath,this.props.viewDef&&this.props.viewDef.id,this.props.key]).join("_"))}function u(b,c){var d=a.isArray(b)?a.map:a.mapValues;return d(b,function(b){var d=b;return g.isExpression(b)?d=g.evaluate(q.bind(this,c),b.$expr,p.call(this,c)):(a.isArray(b)||a.isPlainObject(b))&&(d=u.call(this,b,c)),g.convertStringToPrimitive(d)},this)}function v(a){return a&&a.display&&"box"===a.display?(delete a.display,"flex_display"):""}return{handleMouseOver:function(){var a=this.getCompProp("hoverVar");this.props.setVar(this.contextPath,a,!0)},handleMouseOut:function(){var a=this.getCompProp("hoverVar");this.props.setVar(this.contextPath,a,!1)},setData:function(a,b){var c=this.getViewDefProp("data")||"this";b&&(c+="."+b);var d=r(c)?this.props.setVar:this.props.setDataByPath;d(this.contextPath,c,a)},getDataByPath:function(a,b){var c=this.props.getDataByPath(this.contextPath,a);return b&&n(c)?this.props.getDataByFullPath(o(c)):c},getVar:function(a){return this.props.viewContextMap.getVar(this.contextPath,a)},setVar:function(a,b,c){this.props.setVar(this.contextPath,a,b,c)},getContextEvent:function(a){return this.props.viewContextMap.getEvent(this.contextPath,a)},getChildProxyClass:function(a){return e.getProxyClass(a)},registerReLayout:function(){this.reLayoutPending=!0},getChildProxyProps:function(a,b,c){var d=null;b&&(d={path:b,vars:c.vars||{},events:c.events||{},functionLibrary:c.functionLibrary||{}});var e={compId:this.props.compId,siteAPI:this.props.siteAPI,siteData:this.props.siteData,pageData:this.props.pageData,compProp:this.props.compProp,loadedStyles:this.props.loadedStyles,ref:"child",viewName:this.props.viewName,forType:this.props.forType,formatName:this.props.formatName,orientation:this.props.orientation,viewDef:a,packageName:this.props.packageName,parentId:this.props.parentId,viewId:this.props.viewId,logicEvents:this.props.logicEvents,logic:this.props.logic,functionLibrary:this.props.functionLibrary,parentContextPath:this.contextPath,contextProps:d,viewContextMap:this.props.viewContextMap,getPartData:this.props.getPartData,getPartDefinition:this.props.getPartDefinition,resolveResourcePath:this.props.resolveResourcePath,getNormalizedDataPath:this.props.getNormalizedDataPath,getDataByPath:this.props.getDataByPath,setDataByPath:this.props.setDataByPath,getDataByFullPath:this.props.getDataByFullPath,getViewDef:this.props.getViewDef,getLocalizationBundle:this.props.getLocalizationBundle,classSet:this.props.classSet,setVar:this.props.setVar};
return e},getChildCompProps:function(c,d){function i(b){if(b[""]=a.merge({},b[""],e,k.getAdditionalDomAttributes(this)),!d)return b;a.assign(b[""],g);var c=d(b);return a.each(c,function(a){a&&a.style&&(a.style=h.translate(a.style,this.props.orientation))},this),c}var e=l.call(this),g=a.pick(this.props,function(a,b){return 0===b.indexOf("data-")}),j={id:t.call(this),ref:"component"};if(!c)return j.style=this.getProxyStyle(),j.className=this.getProxyCssClassName(j.style),a.extend(j,e,k.getAdditionalDomAttributes(this),g);var m=this.getCompProp("name"),n=f.resolveStyleNS(this.getCompProp("styleNS")||"default",m)||{},o=this.getCompProp("skin")||n.skin||f.getDefaultSkinName(m),p=this.getCompProp("style")||n.style||f.getDefaultStyleName(m),q=this.props.siteData.getAllTheme();p&&q[p]&&!this.useSkinInsteadOfStyles&&(o=q[p].skin);var r=this.getProxyStyle(),s={layout:r,componentType:c,skin:o};!this.useSkinInsteadOfStyles&&p&&(s.styleId=p);var u=b.componentPropsBuilder.getCompProps(s,this.props.siteAPI,this.props.pageId,this.props.loadedStyles);delete u.style.position;var v=a.merge(u.style,r);return u.className=this.getProxyCssClassName(v),a.extend(u,j,{transformSkinProperties:i.bind(this),style:v,compProp:this.props.compProp})},getViewDefProp:function(a,b,c){b=b||this.props.viewDef||{},c=c||this.contextPath;var d=b[a],e=d;if(g.isExpression(d))e=g.evaluate(q.bind(this,c),d.$expr,p.call(this,c));else if("layout"===a||"css"===a||"stylesheet"===a)return u.call(this,d,c);return g.convertStringToPrimitive(e)},getCompProp:function(a,b,c){c=c||this.contextPath;var d=this.getViewDefProp("comp",b,c);return d?this.getViewDefProp(a,d,c):void 0},getStyleDef:function(b,c){if(b)return a.merge({},this.getCompProp("css",b,c),this.getViewDefProp("layout",b,c));var d={};return this.getCustomStyle&&(d=this.getCustomStyle()),a.merge(d,this.getCompProp("css"),this.getViewDefProp("layout"),this.props.proxyLayout)},getProxyStyle:function(){var a=this.getStyleDef(),b=this.props.orientation||"vertical",c=this.props.compProp&&this.props.compProp.direction;return a.boxSizing="border-box",a=i.translateStaticSpacers(a,b,c),a=h.translate(a,this.props.orientation)},getProxyCssClassName:function(a){var b=this.getCompProp("cssClass")||"";return this.getProxyCustomCssClass&&(b+=" "+this.getProxyCustomCssClass()),b+=" "+v(a),b=b.trim()},handleViewEvent:function(b,c){var d=this.getCompProp("events"),e=this.props.logic,f=d&&(d[b.type]||d["dom:"+b.type]);if(f){var h=a.isString(f)?f:f.event;if(h){var i=this.getContextEvent(h),k=h.trim().match(/^set:([^=]+)=(.+)$/);if(k){var l=g.evaluate(q.bind(this,this.contextPath),k[2].trim(),p.call(this,this.contextPath)),m=k[1].trim();j.stringUtils.startsWith(m,"$")?this.props.setVar(this.contextPath,m.substring(1),l):this.setData(l,m)}else if(a.isFunction(i))i(b,c);else{if(!e)throw"Error:: Missing logic - cannot handle event ["+h+"]";if(!a.isFunction(e[h]))throw"Error:: Logic missing implementation for event ["+h+"]";f.params&&(b.params=u.call(this,f.params,this.contextPath));var n=this.getViewDefProp("data")||"this";b.dataPath=this.props.getNormalizedDataPath(this.contextPath,n),e[h](b,c)}}}},createContext:function(b,c,d,e,f){var g=a.merge({},d.view,d.proxy,this.getViewDefProp("vars")),h=this.props.getDataByPath(b,c);if(null===b||m(h)){var i=this.props.getNormalizedDataPath(b,c);return this.props.viewContextMap.newContextForDataItem(b,i,g,e,f)}return n(h)?this.props.viewContextMap.newContextForDataItem(b,o(h),g,e,f):this.props.viewContextMap.newContextForDataPath(b,c,g,e,f)},createContextByProps:function(a){var b=a.parentContextPath,c=a.contextProps;c&&(b=this.createContext(a.parentContextPath,c.path,c.vars,c.events,c.functionLibrary)),this.contextPath=b},componentDidUpdate:function(){this.reLayoutPending&&(this.reLayoutPending=!1,this.props.siteAPI.reLayout())},componentWillMount:function(){this.createContextByProps(this.props),this.proxyData=s.call(this)},componentWillUpdate:function(a){this.props.viewContextMap.hasContext(this.contextPath)||this.createContextByProps(a);var b=a.contextProps;b&&b.vars&&b.vars.proxy&&this.props.viewContextMap.overrideContextVars(this.contextPath,b.vars.proxy),this.proxyData=s.call(this)},render:function(){try{return this.getCompProp("hidden")?c.DOM.div({ref:"hidden",style:{display:"none"}}):this.renderProxy()}catch(a){if(this.props.siteData.isDebugMode())throw a;return console.error("Cannot render proxy "+this.constructor.displayName+" with id: "+this.props.id,a),c.DOM.div(null,"This component is not yet implemented "+String(a))}}}}),define("wixappsCore/core/linksConverter",["lodash","utils"],function(a,b){"use strict";function f(a){return{type:"AnchorLink",anchorName:a.anchorName,anchorDataId:a.anchorDataId,pageId:a.pageId}}function g(a){return{type:"DocumentLink",docId:a.docId,name:a.docName}}function h(a){return{type:"ExternalLink",url:a.protocol?a.protocol+"://"+a.address:a.address,target:a.target}}function i(a){return{type:"PageLink",pageId:"#"+a.pageId}}function j(a){return{type:"EmailLink",recipient:a.email,subject:a.subject}}function k(a){var e=a.href;if("WEBSITE"===a.linkType||d.test(e)){var f={address:e};return h(f)}if(b.stringUtils.startsWith(e,c))return i({pageId:e.substr(1)});if(b.stringUtils.startsWith(e,"mailto:")){var g=e.split("?"),k="";if(g.length>1){var l=b.urlUtils.parseUrlParams(g[1]);k=l.subject||""}var m={subject:k,email:g[0].substr(7)};return j(m)}}function l(a){if(!a)return null;var b=e[a._type];return b&&b(a)}var c="#!",d=/(:\/\/)|(^\/\/)/,e={"wix:Link":k,"wix:PageLink":i,"wix:ExternalLink":h,"wix:MailLink":j,"wix:DocLink":g,"wix:AnchorLink":f};return l}),define("wixappsCore/core/typesConverter",["lodash","utils","wixappsCore/core/linksConverter"],function(a,b,c){"use strict";return{richText:function(b){return{type:"StyledText",text:a.isString(b)?b:b.text}},image:function(a,b,c,d){return{type:"Image",uri:b(a.src,c,d),title:a.title,width:parseInt(a.width,10),height:parseInt(a.height,10)}},videoThumb:function(a,b,c){var d={src:a.imageSrc,title:"",width:480,height:360};return this.image(d,b,c)},table:function(b){return{type:"Table",columnsStyle:a.pluck(b,function(a,b){if(!a.item)throw"missing definition for item in column "+b;return a.item.styleData})}},video:function(a){return{type:"Video",videoId:a.videoId,videoType:a.videoType}},linkableButton:function(b){var c=b&&(b.linkId||b.pageId),d=a.isString(b)?b:b&&b.label;return{type:"LinkableButton",label:a.unescape(d),link:c?"#"+c:""}},selectableList:function(b){return{type:"SelectableList",items:a.map(b.items,function(a){return{type:"SelectOption",value:a.value,text:a.text,enabled:a.enabled!==!1,description:a.description}}),selected:b.selectedValue}},text:function(b){return{type:"Text",text:a.unescape(b)}},icon:function(a,b,c,d){return{type:"Icon",url:b(a.src,c,d),width:a.width,height:a.height,title:a.title}},link:c,imageList:function(b,c,d){return{type:"ImageList",items:a.map(b.items,function(b){return a.merge(this.image(b,c,d),{description:b.description||"",link:this.link(b.link)})}.bind(this))}}}}),define("wixappsCore/util/videoThumbDataHandler",["lodash"],function(a){"use strict";function c(a){return"http://img.youtube.com/vi/"+a+"/0.jpg"}function d(a){return"http://vimeo.com/api/v2/video/"+a+".json"}function e(a){return a.item.imageSrc=c(a.item.videoId),null}function f(a){if(a.item.imageSrc)return null;var b=d(a.item.videoId);return{force:!0,destination:a.path,url:b,dataType:"jsonp",transformFunc:g}}function g(b,c){var d=b[0],e=a.isArray(c)?h(c,d.id):c;return e.imageSrc=d.thumbnail_large,c}function h(b,c){return a.find(b,function(a){return a.videoId===c+""})}function i(a){return b[a.item.videoType].prepareVideoThumbUrl(a)}function j(b){return a.compact(a.map(b,i))}var b={YOUTUBE:{prepareVideoThumbUrl:e},VIMEO:{prepareVideoThumbUrl:f}};return{handleVideoThumbUrls:j}}),define("wixappsCore/proxies/mixins/baseCompositeProxy",["react","lodash","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";return{mixins:[c],renderChildProxy:function(c,d,e){var f=this.getChildProxyProps(c);d=String(d||"0"),f.key=d,f.ref=d,f.refInParent=d,f.proxyLayout=e,this.getChildrenOrientation&&(f.orientation=this.getChildrenOrientation());var g=this.getCompProp("name",c),h=this.getChildProxyClass(g);if(h.getRequiredParentViewDefProps){var i=h.getRequiredParentViewDefProps();f.parentProps={},b.each(i,function(a){f.parentProps[a]=this.getViewDefProp(a)},this)}return a.createElement(h,f)}}}),define("wixappsCore/util/localizer",["lodash","utils"],function(a,b){"use strict";function e(b,c){return a.has(c,b)?c[b]:"["+b+"] - not found"}var c="@",d={macroPattern:new RegExp("^"+c+"[0-9a-zA-Z_\\-\\.]*"+c+"$"),thingyPattern:new RegExp(c,"g")};return{getLocalizationBundleForPackage:function(a,c,d){var e=b.wixUserApi.getLanguage(d).toLowerCase(),f=a.getDescriptor(c);return f&&f.lang[e]},localize:function(a,b){for(var c,f,g;null!==(c=d.macroPattern.exec(a));)c=c[0],f=c.replace(d.thingyPattern,""),g=e(f,b),a=a.replace(c,g);return a}}}),define("wixappsCore/util/wixappsUrlParser",["utils","wixappsCore/core/wixappsLogger"],function(a,b){"use strict";var c={"79f391eb-7dfc-4adf-be6e-64434c4838d9":{parse:function(a){var b=a.split("/"),c={};c.filter={},"Featured"===b[0]&&(c.filter.featured=!0,b.shift());for(var d=0;d<b.length;d+=2)switch(b[d]){case"Type":c.filter._type=b[d+1];break;case"Tag":c.filter.tags=decodeURIComponent(b[d+1]);break;case"Page":c.page=b[d+1];break;case"Sort":c.sort=b[d+1];break;case"Date":var e=b[d+1];c.filter["date.iso"]={$regex:"^"+e}}return c}}};return{getAppPageParams:function(a,b){var d=b||a.currentPageInfo,e=a.getDataByQuery(d.pageId);if("AppPage"===e.type&&c[e.appPageId]){var f=d.pageAdditionalData||"";return c[e.appPageId].parse(f)}return null},getPageSubItemId:function(a,b){var c=b||a.currentPageInfo;if(!c.pageAdditionalData)return null;var d=a.getDataByQuery(c.pageId),e=c.pageItemId&&a.getDataByQuery(c.pageItemId);if("AppPage"===d.type||e&&"PermaLink"===e.type){var f=c.pageAdditionalData.match(/(.+?)($|\/.*$)/i);return f[1]}return null},getAppPartZoomAdditionalDataPart:function(a,b){var c=encodeURIComponent(b.toLowerCase().replace(/[\s|\/]+/gi,"-"));return a+"/"+c},getAppPartZoomUrl:function(c,d,e,f){var g=c.getDataByQuery(d);if(!g)return b.reportError(c,b.errors.MISSING_PERMALINK),c.currentUrl.full;var h={title:g.mutableSeoTitle,pageItemId:d,pageAdditionalData:this.getAppPartZoomAdditionalDataPart(e,f)};return a.wixUrlParser.getUrl(c,h)},getAppPageUrl:function(b,c,d,e){var f={pageId:c,title:e,pageAdditionalData:d};return a.wixUrlParser.getUrl(b,f)}}}),define("wixappsCore/util/socialShareHandler",["utils"],function(a){"use strict";function g(a,b){var c=a.split("#"),d=a.indexOf("?")>-1?"&":"?";return c[0]+=d+b,c.join("#")}function h(a,b){var c=a,d=c.split("#!");return d.length>1&&(d[1]=decodeURIComponent(d[1]),c=d.join("#!")),b&&(c=c.replace("#!","/#!")),encodeURIComponent(c)}function i(a){return a?encodeURIComponent(a):""}function j(b,c){var d=b||"";return b&&0!==b.indexOf("http")&&(d=a.imageUrl.getImageUrlFullyContained({width:250,height:250},b,{width:250,height:250},c)),d=encodeURIComponent(d)}function k(a){var c=b;return c+=h(a.url)}function l(a,b){var d=c;return d+=h(a.url),d+="&Title="+i(a.title),d+="&ImageURL="+j(a.imageUrl,b)}function m(a,b){var c=d;return c+=h(a.url),c+="&media="+j(a.imageUrl,b),c+="&description="+i(a.title)}function n(a){var b=e;return b+=h(a.url),b+="&text="+i(a.title)+encodeURIComponent("\n")}function o(a){var b=f;return b+=h(a.url),b+="&t="+i(a.title)}function p(a,b){var c="";switch(a.service){case"google":c=k(a,b);break;case"fancy":c=l(a,b);break;case"pinterest":c=m(a,b);break;case"twitter":c=n(a,b);break;case"facebook":c=o(a,b)}return c}function q(a,b){var c=p(a,b.getSiteData());a.addDeepLinkParam&&(c=g(c,"deeplink_referrer=socialB_"+a.service)),b.openPopup(c,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")}var b="https://plus.google.com/share?url=",c="http://www.fancy.com/fancyit/fancy?ItemURL=",d="http://pinterest.com/pin/create/button/?url=",e="https://twitter.com/intent/tweet?url=",f="http://www.facebook.com/sharer.php?u=";return{handleShareRequest:q}}),define("wixappsCore/util/typeNameResolver",["lodash"],function(a){"use strict";function b(b){if(a.isUndefined(b))return"undefined";if(a.isNull(b))return"null";if(b._type)return b._type;if(a.isString(b))return"String";if(a.isNumber(b))return"Number";if(a.isBoolean(b))return"Boolean";if(a.isArray(b))return"Array";if(a.isPlainObject(b))return"wix:Object";throw"Error:: Unable to resolve typeName for dataItem [ "+JSON.stringify(b)+" ]"}return{getDataItemTypeName:b}}),define("wixappsCore/proxies/mixins/boxProxy",["react","lodash","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";function f(a,b){return{id:b,comp:{name:a,size:"*"}}}function g(b,c,g,h){c=c||"vertical";var i=b.layout||{};if("*"===i[e[g]]||"*"===i[e.both]){var j=d[c],k=b.id+"_spacer_"+g,l=f(j,k),m=this.getChildProxyProps(l),n="spacer_"+g+"_"+h;return m.ref=n,m.refInParent=n,m.key=n,a.createElement(this.getChildProxyClass(j),m)}return null}function h(a,b,c){return g.call(this,a,b,"before",c)}function i(a,b,c){return g.call(this,a,b,"after",c)}var d={vertical:"VSpacer",horizontal:"HSpacer"},e={both:"spacer",before:"spacerBefore",after:"spacerAfter"};return{mixins:[c],getCustomStyle:function(){var a={position:"relative",display:"box","box-orient":this.getChildrenOrientation()};this.getCompProp("box-align")&&(a["box-align"]=this.getCompProp("box-align"));var b=this.getCompProp("pack");return b&&(a["justify-content"]=b),a},renderProxy:function(){var a=this.getCompProp("items"),c=this.getChildrenOrientation(),d=b.map(a,function(a,d){var e=h.call(this,a,c,d),f=this.renderChildProxy(a,d),g=i.call(this,a,c,d);return b.compact([e,f,g])},this);d=b.flatten(d);var e=this.getComponentName&&this.getComponentName(),f=this.getChildCompProps(e,this.transformSkinProperties);"vertical"===c&&(f.className=f.className||"",f.className+=" flex_vbox"),this.getCustomProps&&(f=b.extend(f,this.getCustomProps()));var g=this.getReactClass();return g(f,d)}}}),define("wixappsCore/proxies/mixins/zoomProxy",["lodash","react","wixappsCore/proxies/mixins/boxProxy"],function(a,b,c){"use strict";var d=b.createClass({displayName:"AnchorInPositionAbsoluteWithSiblings",onClick:function(a){return a.target=this.refs.a.getDOMNode(),!0},render:function(){var c=a.omit(this.props,"style","href");return c.onClick=this.onClick,c.style=a.merge({},this.props.style,{cursor:"pointer"}),b.DOM.div(c,b.DOM.a({ref:"a",href:this.props.href,"data-page-item-context":c.pathToItems,target:c.target,style:{position:"absolute",top:0,right:0,left:0,bottom:0}}),c.children)}});return{mixins:[c],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return d}}}),define("wixappsCore/proxies/zoomLinkProxy",["react","lodash","wixappsCore/proxies/mixins/zoomProxy","wixappsCore/util/wixappsUrlParser"],function(a,b,c,d){"use strict";return{mixins:[c],getCustomProps:function(){var a=this.props.siteAPI.getSiteAspect("wixappsDataAspect"),c=a.getDescriptor(this.props.packageName),e=this.props.getPartDefinition(),f=b.find(c.parts,{id:e.zoomPartName[0]}),g=this.props.getPartData(),h=f.zoomParams.urlIdPrefix+g.appInnerID,i={};return i.href=d.getAppPartZoomUrl(this.props.siteData,h,this.proxyData._iid||this.proxyData.id,this.proxyData.title),i.pathToItems=this.props.getNormalizedDataPath(this.contextPath,this.getCompProp("listExpression")).join("."),i}}}),define("wixappsCore/proxies/appLinkProxy",["lodash","utils","wixappsCore/proxies/mixins/zoomProxy","wixappsCore/util/wixappsUrlParser"],function(a,b,c,d){"use strict";function e(b){if(!b)return{};var c=a.filter(b.split("/"),function(a,b){return b%2===0}),d=a.filter(b.split("/"),function(a,b){return b%2===1});return a.zipObject(c,d)}function f(b){return a.reduce(b,function(a,b,c){return a+"/"+c+"/"+b},"").substring(1)}function h(b,c){return"samePage"===b?this.props.siteData.getDataByQuery(this.props.siteData.currentPageInfo.pageId):a.find(c,function(a){return a.appPageId&&a.appPageId===b})}var g={appPageLink:function(a,b,c){var e=c.title.replace(/([-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/])/g,"").replace(/\s+/g,"-");return{href:d.getAppPageUrl(a,b.id,c._iid,e)}},date:function(a,b,c){var e="Date/"+c.value;return{href:d.getAppPageUrl(a,b.id,e,"")}},tag:function(a,b,c){var e="Tag/"+(c.key||c);return{href:d.getAppPageUrl(a,b.id,e,"")}},prevPage:function(a,b){var c=a.currentPageInfo.pageAdditionalData||"",g=e(c);return g.Page&&Number(g.Page)&&(g.Page=Number(g.Page)-1),0===Number(g.Page)&&delete g.Page,{href:d.getAppPageUrl(a,b.id,f(g),"")}},nextPage:function(a,b){var c=a.currentPageInfo.pageAdditionalData||"",g=e(c);return g.Page=g.Page&&Number(g.Page)?Number(g.Page)+1:1,{href:d.getAppPageUrl(a,b.id,f(g),"")}}};return{mixins:[c],getCustomProps:function(){var a=this.getCompProp("linkType")||"appPageLink",b=this.props.siteData.getPagesDataItems(),c=this.getCompProp("pageId"),d=h.call(this,c,b);return d&&a&&g[a]?g[a](this.props.siteData,d,this.proxyData):{}}}}),define("wixappsCore/core/layoutBasedHelper",["lodash"],function(a){"use strict";function b(b,c){var d=a.has(b,"width");return d=d||"vertical"===c,d=d||"horizontal"===c&&(a.has(b,"flex")||a.has(b,"box-flex"))}function c(b,c){var d=a.has(b,"height");return d=d||"horizontal"===c,d=d||"vertical"===c&&(a.has(b,"flex")||a.has(b,"box-flex"))}return{isLayoutBasedWidth:b,isLayoutBasedHeight:c}}),define("wixappsCore/proxies/areaProxy",["lodash","react","core","wixappsCore/proxies/mixins/boxProxy","wixappsCore/core/layoutBasedHelper"],function(a,b,c,d,e){"use strict";var f=c.compFactory,g={display:"inherit","flex-direction":"inherit"};return{mixins:[d],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getComponentName:function(){return"wixapps.integration.components.Area"},getReactClass:function(){return f.getCompClass(this.getComponentName())},transformSkinProperties:function(b){var c=this.getStyleDef();return e.isLayoutBasedHeight(c,this.props.orientation)?(b.bg=b.bg||{},b.bg.style=a.merge({},b.bg.style,{height:"100%"}),b.inlineContent.style=a.merge({},b.inlineContent.style,g,{position:"absolute",height:"100%"})):b.inlineContent.style=a.merge({},b.inlineContent.style,g,{position:"relative",width:"100%"}),b}}}),define("wixappsCore/proxies/mixins/siteButtonProxy",["lodash","core","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/localizer"],function(a,b,c,d,e){"use strict";var f=b.compFactory;return{mixins:[c],getCustomStyle:function(){var b={position:"relative"};return this.getAdditionalButtonStyle&&(b=a.merge(b,this.getAdditionalButtonStyle())),b},renderProxy:function(){var a="wysiwyg.viewer.components.SiteButton",b=this.getChildCompProps(a,this.transformSkinProperties),c=d.linkableButton(this.proxyData),g=this.getCompProp("label")||c.label;c.label=g?e.localize(g,this.props.getLocalizationBundle()):this.getDefaultLabel(),b.compData=c;var h=this.proxyData;return h&&h.pageId&&(b.getDataByQuery=function(){return d.link(h)}),b.compProp={align:this.getCompProp("align")||"center",margin:this.getCompProp("margin")||0},f.getCompClass(a)(b)}}}),define("wixappsCore/proxies/buttonProxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(a,b){"use strict";return{mixins:[a],transformSkinProperties:function(a){var c={"data-proxy-name":"Button",onClick:this.handleViewEvent};return a[""]=b.merge({},a[""],c),a},getAdditionalButtonStyle:function(){var a={},b=this.getCompProp("label")||this.proxyData;return""===b&&(a.display="none"),a},getDefaultLabel:function(){return"Submit"}}}),define("wixappsCore/proxies/button2Proxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(a,b){"use strict";return{mixins:[a],transformSkinProperties:function(a){var c=this.getProxyStyle(),d=c.height||this.getCompProp("height")||30,e={onClick:this.handleViewEvent,"data-proxy-name":"Button2",style:{height:d,maxWidth:c.width}};a[""]=b.merge({},a[""],e);var f={overflow:"hidden"};return a.link.style=b.merge({},a.link.style,f),a},getDefaultLabel:function(){return""}}}),define("wixappsCore/util/richTextDefaultStyles",[],function(){"use strict";function a(a){var b="#"===a.charAt(0),c={name:b?"style":"class",value:b?"color:"+a+";":a};return{name:"span",attributes:[c]}}function b(){return{name:"strong"}}function c(){return{name:"em"}}function d(){return{name:"strike"}}function e(){return{name:"u"}}function f(a){return{name:"span",attributes:[{name:"style",value:"font-size:"+a+"px;"}]}}return{color:a,bold:b,italic:c,lineThrough:d,underline:e,fontSize:f}}),define("wixappsCore/proxies/mixins/textProxy",["lodash","utils","wixappsCore/proxies/mixins/baseProxy","wixappsCore/util/richTextDefaultStyles","wixappsCore/core/typesConverter","wixappsCore/util/localizer"],function(a,b,c,d,e,f){"use strict";function h(a){return a.replace(/<a\b[^>]*>(.*?)<\/a>/gi,"$1")}function i(b){var c=a.map(b,function(a){return a.value.indexOf('"')>-1?a.name+"='"+a.value+"'":a.name+'="'+a.value+'"'}).join(" ");return c.length?" "+c:c}function j(b){return a.map(b,function(a){return"<"+a.name+i(a.attributes)+">"}).join("")}function k(b){return a.map(b,function(a){return"</"+a.name+">"}).reverse().join("")}function l(b,c){var e=a.reduce(c,function(a,b){return a[b.name]=b.value,a},{});e["class"]=this.getStyle(this.getCompProp("style")||"Body M"),this.getCompProp("singleLine")&&(e["class"]+=" singleLine");var f=this.getCompProp("line-height");f&&(e.style=e.style||"",/line-height:/.test(e.style)||(e.style="line-height:"+f+"em;"+e.style));var g=[{name:b||"p",attributes:a.reduce(e,function(a,b,c){return a.push({name:c,value:b}),a},[])}];return a.each(["color","bold","italic","lineThrough","underline","fontSize"],function(a){var b=this.getCompProp(a);b&&g.push(d[a](b))},this),g}function m(a){return"wix:RichText"===a._type&&2!==a.version}function n(a){var c=[],d=[];return b.htmlParser(a,{start:function(a,b,e){var f=[{name:e||0!==c.length?a:"hatul",attributes:b}];e||c.push(k(f)),d.push(j(f))},end:function(){d.push(c.pop())},chars:function(a){0===c.length?(d.push("<hatul>"),d.push(a),d.push("</hatul>")):d.push(a)}}),d.join("")}var g={Title:"font_0",Menu:"font_1","Page title":"font_2","Heading XL":"font_3","Heading L":"font_4","Heading M":"font_5","Heading S":"font_6","Body L":"font_7","Body M":"font_8","Body S":"font_9","Body XS":"font_10"};return{mixins:[c],getInitialState:function(){return{showToolTip:!1}},componentDidMount:function(){var a=this.getDOMNode(),b=this.getCompProp("singleLine")&&this.getCompProp("showTooltip")&&a.scrollWidth>a.offsetWidth;this.setState({showToolTip:b})},createFormattedText:function(b,c,d){if(c=c!==!1,"wix:RichText"===b._type||"wix:MediaRichText"===b._type)return this.getDataWithDefaultStyle(b.text,d,m(b));var e=a.compact(["<hatul>",this.getCompProp("prefix"),a.escape(b),this.getCompProp("postfix"),"</hatul>"]).join("");return this.getDataWithDefaultStyle(e,d,!1,c)},getDataWithDefaultStyle:function(c,d,e,g){var i=this.getCompProp("disableLinks")?h(c):c,m=e?n(i):i,o=this.getCompProp("singleLine"),p=!1,q=this,r=[],s=[],t=this.props.getLocalizationBundle(),u=!1;return b.htmlParser(m,{start:function(a,b,c){if(!p&&(!o||"img"!==a&&"br"!==a)){var e=[{name:a,attributes:b}];"hatul"===a&&(e=l.call(q,d,b)),c||r.push(k(e)),s.push(j(e))}},end:function(){p||(s.push(r.pop()),0===r.length&&o&&(u?p=!0:s=[]))},chars:function(b){if(!(p||0===r.length&&/^\s+$/.test(b))){var c=f.localize(g?a.unescape(b):b,t);u=u||!/^(&nbsp;)+$/.test(c),s.push(c)}}}),s.join("")},getLinkDataByQuery:function(b){var c=a.find(this.proxyData.links,function(a){return a.linkId===b});return c?e.link(c):null},getDataByQuery:function(a){return this.getLinkDataByQuery(a)},getRichTextChildCompProps:function(a,b,c){var d=this.getChildCompProps(a,b);return d.getDataByQuery=c||this.getDataByQuery,d.style=d.style||{},d.style["white-space"]=this.getCompProp("nowWrap")?"nowrap":"normal",this.state.showToolTip&&(d.title=(this.getCompProp("prefix")||""+this.proxyData+this.getCompProp("postfix")||"").replace(/\s+/gim," ").replace(/^\s*/,"").replace(/\s*$/,"")),d},getStyle:function(a){return g[a]}}}),define("wixappsCore/util/textClipper",["utils"],function(a){"use strict";function c(a,c){var d=[],e=[],f=!1,g=0;return b(a,{start:function(a,b,c,g){f||(d.push(g),c||e.push("</"+a+">"))},chars:function(a){if(!f){var b=a.replace(/&nbsp;/g," ");if(g+b.length>c)for(f=!0,d.push(b.substring(0,c-g).replace(/\s+$/g,"")),d.push("...");e.length>0;)d.push(e.pop());else g+=b.length,d.push(b)}},end:function(){f||d.push(e.pop())}}),d.join("")}var b=a.htmlParser;return{clipText:c}}),define("wixappsCore/proxies/clippedParagraphProxy",["lodash","core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","wixappsCore/util/textClipper","fonts"],function(a,b,c,d,e,f){"use strict";function h(b){var c=parseFloat(b);return isNaN(c)&&a.contains(["normal","initial","inherit"],b)&&(c=1.2),c}function i(a){var b=this.getCompProp("minLines");if(!b)return 0;var c=f.fontUtils.getFontClassName(a),d=this.props.siteData.getFont(c),e=f.fontUtils.parseFontStr(d),g=1.25;return this.getCompProp("line-height")&&(g=h(this.getCompProp("line-height"))),parseInt(e.size,10)*g*b}var g=b.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a,!1),c=i.call(this,b),f=function(a){return a[""].style=a[""].style||{},a[""].style.overflow="hidden",c&&(a[""].style["min-height"]=c+"px"),a},h="wysiwyg.viewer.components.WRichText",j=this.getRichTextChildCompProps(h,f),k=this.getCompProp("maxChars")||150;return b=e.clipText(b,k),j.compData=d.richText(b),g.getCompClass(h)(j)}}}),define("wixappsCore/proxies/comboBoxProxy",["lodash","core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy","wixappsCore/util/localizer"],function(a,b,c,d,e){"use strict";function g(){var b=a.cloneDeep(this.proxyData);return b.items.length&&a.each(b.items,function(a){a.text=e.localize(a.text,this.props.getLocalizationBundle())},this),b}var f=b.compFactory;return{mixins:[d],renderProxy:function(){var a=this,b=g.call(this),d="wysiwyg.viewer.components.inputs.ComboBoxInput",e=this.getChildCompProps(d);return e.compData=c.selectableList(b),e.onSelectionChange=function(c,d){c.payload.listData=b;var e=c.payload.value||b.items[0].value;a.setData(e,"selectedValue"),a.handleViewEvent(c,d)},e.errorMessage=!b.valid,f.getCompClass(d)(e)}}}),define("wixappsCore/proxies/cssProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";return{mixins:[c],renderProxy:function(){var c=this.getCompProp("items"),d=a.map(c,function(a,b){return this.renderChildProxy(a,b)}.bind(this)),e=this.getChildCompProps();return b.DOM.div(e,d)}}}),define("wixappsCore/proxies/dateProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c){"use strict";var d=a.compFactory,e=function(){var a=/d{1,5}|m{1,5}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(f,g,h){var i=e;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(f)||/\d/.test(f)||(g=f,f=void 0),f=f?new Date(f):new Date,isNaN(f))throw"invalid date";g=String(i.masks[g]||g||i.masks["default"]),"UTC:"===g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=f[j+"Date"](),l=f[j+"Day"](),m=f[j+"Month"](),n=f[j+"FullYear"](),o=f[j+"Hours"](),p=f[j+"Minutes"](),q=f[j+"Seconds"](),r=f[j+"Milliseconds"](),s=h?0:f.getTimezoneOffset(),t={d:k,dd:d(k),ddd:i.i18n.dayNames[l],dddd:i.i18n.dayNames[l+7],ddddd:i.i18n.dayNames[l].toUpperCase(),m:m+1,mm:d(m+1),mmm:i.i18n.monthNames[m],mmmm:i.i18n.monthNames[m+12],mmmmm:i.i18n.monthNames[m].toUpperCase(),yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:d(o%12||12),H:o,HH:d(o),M:p,MM:d(p),s:q,ss:d(q),l:d(r,3),L:d(r>99?Math.round(r/10):r),t:12>o?"a":"p",tt:12>o?"am":"pm",T:12>o?"A":"P",TT:12>o?"AM":"PM",Z:h?"UTC":(String(f).match(b)||[""]).pop().replace(c,""),o:(s>0?"-":"+")+d(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!==10)*k%10]};return g.replace(a,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}();return e.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",eUshortDate:"d/m/yy",eUshortDate2:"d.m.yy"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},{mixins:[b],getFormattedDateString:function(a){var b=this.getCompProp("format")||"default",c=a.iso||a,d=new Date(c);return d.getTime()>=0?e(d,b):""},renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(this.getFormattedDateString(a)),e="wysiwyg.viewer.components.WRichText",f=this.getRichTextChildCompProps(e);return f.compData=c.richText(b),d.getCompClass(e)(f)}}}),define("wixappsCore/proxies/erasableTextInputProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.inputs.ErasableTextInput",e=this.getChildCompProps(c);e.compData=b.text(a),e.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},e.message=this.getCompProp("message"),e.isValid=this.getCompProp("isValid");var f=this;return e.onChange=function(a,b){f.setData(a.target.value),a.type="inputChanged",f.handleViewEvent(a,b)},e.onErase=function(){f.setData("")},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/fixedRatioProxy",["react","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/proxies/mixins/boxProxy","lodash"],function(a,b,c,d){"use strict";function e(a,b){var c=function(b){return a[b]&&!(d.isString(a[b])&&"%"===a[b].slice(-1))},e={};if(c("width"))e.width=parseInt(a.width,10),e.height=Math.floor(e.width/b);else if(c("height"))e.height=parseInt(a.height,10),e.width=Math.floor(e.height*b);else{if(!c("box-flex"))throw new Error("FixedRatioProxy's child proxy does not receive legal layout properties");e.position="absolute",e.height="100%",e.width="100%",e.top="0px",e.left="0px"}return e}function f(b,c){var d={1:"data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",1.77:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAAE0lEQVR42mP4TyFgGDVg1AAgAAC2ij3fb7PW1wAAAABJRU5ErkJggg=="},e={position:"relative",top:"0px",bottom:"0px",left:"0px",right:"0px"};if("vertical"===b?e["min-width"]="100%":e["min-height"]="100%",!d[c])throw"This ratio is not supported by the current map: "+c;return a.DOM.img({src:d[c],style:e})}function g(a){var b={vertical:{width:"100%","min-width":"100%",position:"relative"},horizontal:{height:"100%","min-height":"100%",position:"relative"}};return b[a]}return{mixins:[b],renderProxy:function(){var b=this.getCompProp("items"),c=parseFloat(this.getCompProp("aspectRatio"));if(1!==b.length)throw new Error("FixedRatioProxy can only contain one child");if(!c)throw new Error("FixedRatioProxy did not receive any aspect ratio");var h=b[0],i=this.getStyleDef(h);if(h.layout&&!h.layout["box-flex"])return d.merge(i,e(i,c)),this.renderChildProxy(h,0,i);var j=f(this.props.orientation,c),k=g(this.props.orientation);return a.DOM.div({style:d.merge(k,i)},j,this.renderChildProxy(h,0,e(i,c)))
}}}),define("wixappsCore/proxies/mixins/templateBasedChildrenProxy",["lodash","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";function c(b,c){return c?"first"===b&&a.has(c,"first")?c.first:"last"===b&&a.has(c,"last")?c.last:c.item:{}}function d(a,b){return 0===a&&b>1?"first":a===b-1?"last":"item"}return{mixins:[b],getChildTemplateDefinition:function(a,b){var e=this.getCompProp("templates"),f=d(a,b);return c(f,e)}}}),define("wixappsCore/proxies/galleryProxy",["lodash","react","core","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/templateBasedChildrenProxy"],function(a,b,c,d,e){"use strict";function g(a){return a[""]["data-proxy-name"]="GalleryProxy",a[""]["data-total-columns"]=this.getCompProp("columns"),a[""]["data-total-rows"]=this.getCompProp("rows"),a[""]["data-gap"]=this.getCompProp("gap"),a.itemsContainer.style.width=isNaN(a.itemsContainer.style.width)?"100%":a.itemsContainer.style.width,a.itemsContainer.style.height=isNaN(a.itemsContainer.style.height)?"100%":a.itemsContainer.style.height,a}var f=c.compFactory;return{mixins:[e],createGalleryItem:function(c,d,e,f,g,h){var i=this.getCompProp("columns"),j=this.getCompProp("rows"),k=this.getCompProp("gap")||0,l={position:"absolute",width:"calc((100% - "+(i-1)*k+"px) / "+i+")",height:"calc((100% - "+(j-1)*k+"px) / "+j+")"};g&&(l=a.merge(l,g));var m={getComponentScopedClass:function(a){var b={};return b[a]=!0,h(b)}},n=this.getChildTemplateDefinition(d,f),o=this.getCompProp("name",n),p=this.getViewDefProp("data")||"this",q=a.indexOf(this.proxyData,c),r=this.getItemRef(e,d),s=this.getChildProxyProps(n,[p,q],{functionLibrary:m});s.ref="view",s.proxyLayout={height:"100%",width:"100%"};var t={className:h({galleryDisplayer:!0}),style:l,key:r,ref:r,refInParent:r,"data-index":d};return b.DOM.div(t,b.createElement(this.getChildProxyClass(o),s))},getItemRef:function(a,b){return this.refs.component.props.id+a+"#"+b},registerComponentReLayout:function(){this.refs.component.registerReLayout()},renderProxy:function(){var a="wysiwyg.viewer.components.PaginatedGridGallery",b=this.getChildCompProps(a,g.bind(this));return b.createGalleryItem=this.createGalleryItem,b.onAnimationCompleteCallback=this.registerComponentReLayout,b.getItemRef=this.getItemRef,b.compData={items:this.proxyData},b.compProp={transition:this.getCompProp("transition"),autoplayInterval:this.getCompProp("autoplayInterval"),transDuration:this.getCompProp("transDuration")||1,numCols:this.getCompProp("columns"),maxRows:this.getCompProp("rows"),margin:this.getCompProp("gap"),autoplay:this.getCompProp("autoplay"),expandEnabled:this.getCompProp("expandEnabled"),showAutoplay:this.getCompProp("showAutoplay"),showNavigation:this.getCompProp("showNavigation")!==!1,showCounter:this.getCompProp("showCounter")!==!1},b.style.position="relative",f.getCompClass(a)(b)}}}),define("wixappsCore/proxies/hBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(a,b){"use strict";return{mixins:[b],getChildrenOrientation:function(){return"horizontal"},getReactClass:function(){return a.DOM.div}}}),define("wixappsCore/proxies/horizontalLineProxy",["core","wixappsCore/proxies/mixins/baseProxy","lodash"],function(a,b,c){"use strict";function e(a){return a[""]=c.merge({},a[""],{style:{position:"relative"}}),a}var d=a.compFactory;return{mixins:[b],renderProxy:function(){var a="wysiwyg.viewer.components.FiveGridLine",b=this.getChildCompProps(a,e);return d.getCompClass(a)(b)}}}),define("wixappsCore/proxies/mixins/spacerProxy",["react","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";return{mixins:[b],getCustomStyle:function(){var a={display:"box"},b=this.getCompProp("size");return"*"===b?a["box-flex"]=1:a[this.getSizeProp()]=b,a},renderProxy:function(){var b=this.getChildCompProps();return a.DOM.div(b,null)}}}),define("wixappsCore/proxies/hSpacerProxy",["wixappsCore/proxies/mixins/spacerProxy"],function(a){"use strict";return{mixins:[a],getSizeProp:function(){return"width"}}}),define("wixappsCore/proxies/iconProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.Icon",e=this.getChildCompProps(c);return e.compData=b.icon(a,this.props.resolveResourcePath,this.props.siteData,this.props.packageName),d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/imageButtonProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.ImageButton",e=this.getChildCompProps(c);return e.compData=b.icon(a,this.props.resolveResourcePath,this.props.siteData,this.props.packageName),e.compProp={isSprite:this.getCompProp("isSprite"),spriteDirection:this.getCompProp("spriteDirection"),startPositionX:this.getCompProp("startPositionX"),startPositionY:this.getCompProp("startPositionY")},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/mixins/baseImageProxy",["lodash","core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy","react"],function(a,b,c,d,e){"use strict";function h(b,c){return b&&(b.width[c.id]||b.height[c.id])?{width:b.width[c.id],height:b.height[c.id]}:a.isUndefined(c.style.width)&&a.isUndefined(c.style.height)?{width:16,height:16}:{width:c.style.width,height:c.style.height}}var f=b.compFactory,g={fitWidth:"fitWidthStrict",fitHeight:"fitHeightStrict"};return{mixins:[d],getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var a="wysiwyg.viewer.components.WPhoto",b=this.getCompProp("imageMode")||"fill",c=this.getCompData(),d=this.getChildCompProps(a);d.compData=c;var i=g[b]||b;d.compProp={displayMode:i},this.getCompProp("showZoom")&&(d.compProp.onClickBehavior="zoomAndPanMode");var j={"data-proxy-name":"Image","data-width":c.width,"data-height":c.height,"data-uri":c.uri,"data-display-mode":i,id:d.id+"_container",style:d.style,ref:"container"};return d.style=h(this.props.siteData.measureMap,d),e.DOM.div(j,f.getCompClass(a)(d))}}}),define("wixappsCore/proxies/imageProxy",["wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(a,b){"use strict";return{mixins:[b],getCompData:function(){return a.image(this.proxyData,this.props.resolveResourcePath,this.props.siteData,this.props.packageName)}}}),define("wixappsCore/proxies/inlineSpacerProxy",["react","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";return{mixins:[b],getCustomStyle:function(){var a=this.getCompProp("size");return{wordSpacing:a,display:"inline"}},renderProxy:function(){var b=this.getChildCompProps();return a.DOM.div(b," ")}}}),define("wixappsCore/proxies/inlineTextProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","react"],function(a,b,c,d){"use strict";function f(a){return a[""].parentConst=d.DOM.span,a}var e=a.compFactory;return{mixins:[b],renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a,!0,"span"),d="wysiwyg.viewer.components.WRichText",g=this.getRichTextChildCompProps(d,f);return g.compData=c.richText(b),e.getCompClass(d)(g)}}}),define("wixappsCore/proxies/labelProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[b],useSkinInsteadOfStyles:!0,renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a),e="wysiwyg.viewer.components.WRichText",f=this.getRichTextChildCompProps(e);return f.compData=c.richText(b),d.getCompClass(e)(f)}}}),define("wixappsCore/proxies/linkProxy",["react","utils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/boxProxy"],function(a,b,c,d){"use strict";return{mixins:[d],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return a.DOM.a},getCustomProps:function(){var a=c.link(this.proxyData),d=b.linkRenderer.renderLink(a,this.props.siteData);return d.className="wixAppsLink",d}}}),define("wixappsCore/proxies/listProxy",["react","lodash","core","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/templateBasedChildrenProxy"],function(a,b,c,d,e){"use strict";var f=c.compFactory;return{mixins:[e],getDefaultProps:function(){return{}},getInitialState:function(){return{currentPage:1}},prevPageClicked:function(){var a=this.proxyData.length,b=this.getCompProp("itemsPerPage"),c=Math.ceil(a/b),d={currentPage:this.state.currentPage};d.currentPage=1===this.state.currentPage?c:d.currentPage-1,this.setState(d),this.registerReLayout()},nextPageClicked:function(){var a=this.proxyData.length,b=this.getCompProp("itemsPerPage"),c=Math.ceil(a/b),d={currentPage:this.state.currentPage};d.currentPage=this.state.currentPage===c?1:d.currentPage+1,this.setState(d),this.registerReLayout()},renderProxy:function(){var g,c=this.proxyData,d=c.length,e=this.getCompProp("templates")?this.getCompProp("templates.vars"):{},h=this.getCompProp("hidePagination");h||(g=this.getCompProp("itemsPerPage"));var i=0,j=d,k=1,l=this.state.currentPage;b.isUndefined(g)||(i=(l-1)*g,j=Math.min(i+g,d),k=Math.ceil(d/g));var m=c.slice(i,j),n=m.length,o=b.map(m,function(c,d){var f="middle";0===d&&n>1?f="first":d===n-1&&(f="last");var g={indexInParent:d,indexOneInParent:d+1,positionInParent:f,isOddIndexInParent:d%2===1,currentPage:l,maxPage:k,hasNext:l!==k,hasPrev:1!==l,hidePagination:this.getCompProp("hidePagination")};g=b.merge({},e,g);var h={prevPageClicked:this.prevPageClicked,nextPageClicked:this.nextPageClicked},j=this.getViewDefProp("data")||"this",m=this.getChildTemplateDefinition(d,n),o=this.getCompProp("name",m),p={vars:{proxy:g},events:h},q=i+d,r=this.getChildProxyProps(m,[j,q],p);return r["data-isfirst"]=0===d,r["data-iseven"]=d%2===1,r["data-islast"]=d===n-1,r.ref=q,r.key=q,r.proxyParentId=this.props.viewDef.id+"_"+q,r.proxyLayout=this.props.childAdditionalStyle,a.createElement(this.getChildProxyClass(o),r)},this),p=this.getChildCompProps("wysiwyg.viewer.components.VerticalRepeater");return p.style=b.merge(p.style,this.props.additionalStyle),f.getCompClass("wysiwyg.viewer.components.VerticalRepeater")(p,o)}}}),define("wixappsCore/proxies/mediaLabelProxy",["lodash","core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c,d){"use strict";function f(b){return b[""]=a.merge({},b[""],{"data-proxy-name":"MediaLabel"}),b}function g(a){var b=a.viewDef.data||"this";return this.props.getNormalizedDataPath(this.contextPath,b)}var e=b.compFactory;return{mixins:[c],useSkinInsteadOfStyles:!0,shouldComponentUpdate:function(b){var c=a.contains(this.props.siteData.componentsToRender,this.props.compId),d=g.call(this,b),e=!a.isEqual(this.fullDataPath,d);return c||e},getMediaDataByQuery:function(a){var b=this.proxyData.refMap[a];return"wix:Image"===b._type?d.image(b,this.props.resolveResourcePath,this.props.siteData,this.props.packageName):"wix:Video"===b._type?d.video(b):null},getDataOrMediaByQuery:function(a){return this.getDataByQuery(a)||this.getMediaDataByQuery(a)},renderProxy:function(){var a=this.proxyData;this.fullDataPath=g.call(this,this.props);var b=this.createFormattedText(a),c="wysiwyg.viewer.components.MediaRichText",h=this.getRichTextChildCompProps(c,f,this.getDataOrMediaByQuery);return h.compData=d.richText(b),e.getCompClass(c)(h)}}}),define("wixappsCore/proxies/paginatedColumnGalleryProxy",["lodash","core","react","utils","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/templateBasedChildrenProxy"],function(a,b,c,d,e,f){"use strict";var g=b.componentUtils.galleryPagingCalculations;return{mixins:[f],componentWillUpdate:function(a){var b=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(a)),c=this.getVar("maxPage");b!==c&&this.setVar("maxPage",b,!0)},componentWillMount:function(){var a=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(this.props));this.setVar("maxPage",a,!0)},getItemsNumberPerPage:function(b){var c=parseInt(this.getCompProp("itemsPerPage",b.viewDef),10);return(a.isNaN(c)||!a.isNaN(c)&&c>=this.proxyData.length)&&(c=this.proxyData.length),c},createChildProxy:function(b,e,f){var g=this.getViewDefProp("data")||"this",h=this.getChildTemplateDefinition(b,e),i=this.getCompProp("name",h),j=this.getChildProxyProps(h,[g,b],{});return j.key=b,j.ref=b,j.refInParent=b,c.DOM.div({key:b,style:a.assign({display:"inline-block",verticalAlign:"top",width:100/f+"%"},d.style.prefix({boxSizing:"border-box"}))},c.createElement(this.getChildProxyClass(i),j))},getCurrentPositionInData:function(a,b){return a===this.proxyData.length?0:b*a},getCurrentPage:function(){var a=this.getVar("currentPage")||1;return a=parseInt(a,10)-1},renderProxy:function(){for(var a=this.getItemsNumberPerPage(this.props),b=this.getCurrentPage(),d=this.getCurrentPositionInData(a,b),e=this.getCompProp("columns")||3,f=[],h=g.getLastItemIndex(this.proxyData,d,a),i=d;h>=i;i++)f.push(this.createChildProxy(i,a,e));var j=this.getChildCompProps();return j["data-proxy-name"]="PaginatedColumnGalleryProxy",j["data-direction"]=this.getVar("partDirection")||"ltr",j["data-horizontal-gap"]=this.getCompProp("horizontalGap")||0,j["data-vertical-gap"]=this.getCompProp("verticalGap")||0,j["data-columns"]=e,c.DOM.div(j,f)}}}),define("wixappsCore/proxies/sliderGalleryProxy",["lodash","core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c,d){"use strict";function f(){return{showAutoplay:this.getCompProp("showAutoplay")||!1,loop:this.getCompProp("loop")||!1,showCounter:this.getCompProp("showCounter")||!1,expandEnabled:this.getCompProp("expandEnabled")||!1,galleryImageOnClickAction:this.getCompProp("galleryImageOnClickAction"),imageMode:this.getCompProp("imageMode"),maxSpeed:this.getCompProp("maxSpeed")||5,margin:this.getCompProp("margin"),aspectRatio:1.333}}function g(){var b=a.map(this.proxyData,function(b){var c=a.clone(b);return c.src=this.props.resolveResourcePath(b.src,this.props.siteData,this.props.packageName),c},this);return{items:b}}function h(a){return a[""]["data-proxy-name"]="SliderGallery",a}var e=b.compFactory;return{mixins:[d],useSkinInsteadOfStyles:!0,renderProxy:function(){var b="wysiwyg.viewer.components.SliderGallery",d=g.call(this),i=a.merge(this.getChildCompProps(b),{compData:c.imageList(d,this.props.resolveResourcePath,this.props.siteData),compProp:f.call(this),onImageSelected:this.handleViewEvent,structure:this.props.structure,transformSkinProperties:h});return e.getCompClass(b)(i)}}}),define("wixappsCore/proxies/stackProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";return{mixins:[c],getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var c=this.getCompProp("items"),d=a.map(c,function(a,b){var c=this.getCompProp("layout",a),d=0===b&&"layout"!==this.getCompProp("stackType")?"static":"absolute",e={position:d,top:c.top||"0px",left:c.left||"0px"};return this.renderChildProxy(a,b,e)},this),e=this.getChildCompProps();return e["data-proxy-name"]="Stack",b.DOM.div(e,d)}}}),define("wixappsCore/proxies/switchBoxProxy",["lodash","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";return{mixins:[c],renderProxy:function(){var b=this.getCompProp("cases"),c=a.has(b,this.proxyData)?this.proxyData:"default",d=b[c];if(0===d.length)return null;var e=this.getCompProp("orientation")||"vertical",f=a.cloneDeep(a.omit(this.props.viewDef,["comp.cases"]));return delete f.data,delete f.name,delete f.forType,delete f.comp.cases,f.id=f.id+"_"+c,f.comp.name="vertical"===e?"VBox":"HBox",f.comp.items=d,this.renderChildProxy(f,f.id,this.getProxyStyle())}}}),define("wixappsCore/proxies/textAreaProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a="wixapps.integration.components.inputs.TextArea",c=this.getChildCompProps(a),e=this.proxyData,f=void 0!==e.text?e.text:e,g=void 0!==e.valid?e.valid:!0;return c.compData=b.text(f),c.compProp={placeholder:this.getCompProp("placeholder"),label:this.getCompProp("label"),message:this.getCompProp("message")||!g,maxLength:this.getCompProp("maxLength"),isPreset:this.getCompProp("isPreset"),onChange:this.updateText},d.getCompClass(a)(c)},updateText:function(a,b){var c=a.target.value;a.type="inputChanged",a.payload={value:c};var d=void 0!==this.proxyData.text?"text":"this";this.setData(c,d),this.handleViewEvent(a,b)}}}),define("wixappsCore/proxies/textInputProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.inputs.TextInput",e=this.getChildCompProps(c);e.compData=b.text(a),e.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},e.message=this.getCompProp("message"),e.isValid=this.getCompProp("isValid");var f=this;return e.onChange=function(a,b){f.setData(a.target.value),a.type="inputChanged",f.handleViewEvent(a,b)},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/toggleProxy",["react","core","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c,d){"use strict";function f(){var a,b,c,d,e;return a=this.getCompProp("templates"),b=this.getChildProxyProps(a.on),b.key=b.ref="on",c=this.getChildProxyProps(a.off),c.key=c.ref="off",d=g.call(this,a.on,b),e=g.call(this,a.off,c),[d,e]}function g(b,c){var d=this.getChildProxyClass(b.comp.name);return a.createElement(d,c)}var e=b.compFactory;return{mixins:[d],renderProxy:function(){var a=f.apply(this),b="wixapps.integration.components.Toggle",c=this.getChildCompProps(b);return c.initialState=this.getCompProp("initialState")||"off",e.getCompClass(b)(c,a)}}}),define("wixappsCore/proxies/vBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(a,b){"use strict";return{mixins:[b],getChildrenOrientation:function(){return"vertical"},getReactClass:function(){return a.DOM.div}}}),define("wixappsCore/proxies/flowListProxy",["wixappsCore/proxies/listProxy"],function(a){"use strict";return{mixins:[a],getDefaultProps:function(){return{additionalStyle:{display:"block",whiteSpace:"normal"},childAdditionalStyle:{display:"inline-block",width:"auto"}}}}}),define("wixappsCore/proxies/videoProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a="wysiwyg.viewer.components.Video",c=this.proxyData,e=this.getChildCompProps(a);return e.compData=b.video(c),e.compProp={showControls:this.getCompProp("showControls"),autoplay:this.getCompProp("autoplay"),loop:this.getCompProp("loop"),showinfo:this.getCompProp("showinfo"),lightTheme:this.getCompProp("lightTheme")},d.getCompClass(a)(e)}}}),define("wixappsCore/proxies/videoThumbProxy",["wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(a,b){"use strict";return{mixins:[b],getProxyCustomCssClass:function(){return this.props.classSet({videoIndicator:!0})},getCompData:function(){return a.videoThumb(this.proxyData,this.props.resolveResourcePath,this.props.siteData)}}}),define("wixappsCore/core/stylesheetRenderer",["lodash"],function(a){"use strict";function b(a){return/^#/.test(a)?a:"#"+a}function c(a){return JSON.stringify(a).replace(/\"/g,"").replace(/,/g,";")}function d(b,d,e){var f=b+" "+d+" ",g=[];return a.forOwn(e,function(b,d){a.each(d.split(/\s*,\s*/),function(a){var d=f+a+c(b);g.push(d)})}),g}function e(c,e,f){if(e=b(e),f=b(f),a.isEmpty(c))return null;if(!a.isArray(c))throw"stylesheetRenderer:: stylesheet definition must be an array";return a.flatten(a.map(c,d.bind(null,e,f))).join("")}return{render:e}}),define("wixappsCore/util/wrappedProxyStyles",["lodash"],function(a){"use strict";function c(c){return a.some(b,function(b){return a.contains(c,b)})}var b=["padding","margin","border","background","top","left","right","bottom"];return{getWrapperCssClass:function(b){var c=a.any(b,function(b,c){return a.contains(c,"flex")});return c?"flex_display":""},getProxyStyles:function(b){return a.mapValues(b,function(a,b){return c(b)?null:a})}}}),define("wixappsCore/proxies/viewProxy",["lodash","react","wixappsCore/util/viewsUtils","wixappsCore/core/proxyFactory","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/stylesheetRenderer","wixappsCore/util/typeNameResolver","wixappsCore/core/wixappsPlugins","wixappsCore/util/wrappedProxyStyles"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,c,d){var e=f.render(a,c,d);return b.DOM.style({type:"text/css",key:c+"."+d,dangerouslySetInnerHTML:{__html:e}})}var k=b.createClass({displayName:"WixappsStyleSheet",mixins:[e],renderProxy:function(){return j(this.getViewDefProp("stylesheet"),this.props.compId,this.props.viewContainerId)}});return{mixins:[e],renderProxy:function(){var d=this.getCompProp("name")||this.props.viewName,e=this.proxyData,f=g.getDataItemTypeName(e),j=this.props.getViewDef(d,f,this.props.formatName);if(!j){var l="ViewProxy:: Cannot find view definition for viewName ["+d+"] typeName ["+f+"] format ["+this.props.formatName+"]";if(this.props.siteData.isDebugMode())throw l;console.error(l)}var m=this.getViewDefProp("data")||"this",n=a.merge({},this.getCompProp("vars"),this.getViewDefProp("vars",j));this.innerContextPath&&this.props.viewContextMap.hasContext(this.innerContextPath)||(this.innerContextPath=this.createContext(this.contextPath,[m],{view:n},{},{}));var o=this.getChildProxyProps(j);o.viewDef=j,o.viewName=d,o.forType=f,o.viewId=c.sanitizeCompId(d+"_"+f+"_"+this.props.formatName),o.viewContainerId=c.sanitizeCompId(o.viewId+"_"+this.contextPath),o.parentContextPath=this.innerContextPath;var p=this.getProxyStyle(),q=this.getStyleDef(j,this.innerContextPath),r={id:o.viewContainerId,ref:"viewWrapper",style:a.merge({},q,p)};r.className=this.getProxyCssClassName(r.style)+" "+i.getWrapperCssClass(r.style),a.extend(r,h.getAdditionalDomAttributes(this)),o.proxyLayout=i.getProxyStyles(r.style),a.has(r.style,"height")&&(o.proxyLayout.height=o.proxyLayout.width="100%");var s=b.createElement(this.getChildProxyClass(this.getCompProp("name",j)),o),t=k(o);return b.DOM.div(r,t,s)}}}),define("wixappsCore/proxies/vSpacerProxy",["wixappsCore/proxies/mixins/spacerProxy"],function(a){"use strict";return{mixins:[a],getSizeProp:function(){return"min-height"}}}),define("wixappsCore/proxies/verticalLineProxy",["core","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";var c=a.compFactory;return{mixins:[b],renderProxy:function(){var a="wysiwyg.viewer.components.VerticalLine",b=this.getChildCompProps(a);return c.getCompClass(a)(b)}}}),define("wixappsCore/proxies/proxyMap",["wixappsCore/core/proxyFactory","wixappsCore/proxies/zoomLinkProxy","wixappsCore/proxies/appLinkProxy","wixappsCore/proxies/areaProxy","wixappsCore/proxies/buttonProxy","wixappsCore/proxies/button2Proxy","wixappsCore/proxies/clippedParagraphProxy","wixappsCore/proxies/comboBoxProxy","wixappsCore/proxies/cssProxy","wixappsCore/proxies/dateProxy","wixappsCore/proxies/erasableTextInputProxy","wixappsCore/proxies/fixedRatioProxy","wixappsCore/proxies/galleryProxy","wixappsCore/proxies/hBoxProxy","wixappsCore/proxies/horizontalLineProxy","wixappsCore/proxies/hSpacerProxy","wixappsCore/proxies/iconProxy","wixappsCore/proxies/imageButtonProxy","wixappsCore/proxies/imageProxy","wixappsCore/proxies/inlineSpacerProxy","wixappsCore/proxies/inlineTextProxy","wixappsCore/proxies/labelProxy","wixappsCore/proxies/linkProxy","wixappsCore/proxies/listProxy","wixappsCore/proxies/mediaLabelProxy","wixappsCore/proxies/paginatedColumnGalleryProxy","wixappsCore/proxies/sliderGalleryProxy","wixappsCore/proxies/stackProxy","wixappsCore/proxies/switchBoxProxy","wixappsCore/proxies/textAreaProxy","wixappsCore/proxies/textInputProxy","wixappsCore/proxies/toggleProxy","wixappsCore/proxies/vBoxProxy","wixappsCore/proxies/flowListProxy","wixappsCore/proxies/videoProxy","wixappsCore/proxies/videoThumbProxy","wixappsCore/proxies/viewProxy","wixappsCore/proxies/vSpacerProxy","wixappsCore/proxies/verticalLineProxy"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M){"use strict";a.register("ZoomLink",b),a.register("AppLink",c),a.register("Area",d),a.register("Container",d),a.register("Button2",f),a.register("Button",e),a.register("ClippedParagraph",g),a.register("ClippedParagraph2",g),a.register("ComboBox",h),a.register("Css",i),a.register("Date",j),a.register("ErasableTextInput",k),a.register("FixedRatioLayout",l),a.register("Gallery",m),a.register("HBox",n),a.register("HorizontalLine",o),a.register("HSpacer",p),a.register("Icon",q),a.register("ImageButton",r),a.register("Image",s),a.register("InlineSpacer",t),a.register("InlineText",u),a.register("Label",v),a.register("Link",w),a.register("MediaLabel",y),a.register("ColumnGallery",z),a.register("PaginatedColumnGallery",z),a.register("SliderGallery",A),a.register("Stack",B),a.register("SwitchBox",C),a.register("TextArea",D),a.register("TextInput",E),a.register("Toggle",F),a.register("VBox",G),a.register("VerticalList",x),a.register("List2",x),a.register("PaginatedList",x),a.register("FlowList",H),a.register("Video",I),a.register("VideoThumb",J),a.register("View",K),a.register("VSpacer",L),a.register("VerticalLine",M)}),define("wixappsCore/core/wixappsDataAspect",["lodash","core","wixappsCore/core/wixappsDataHandler"],function(a,b,c){"use strict";function e(a){this.aspectSiteApi=a}var d=b.siteAspectsRegistry;e.prototype={getDescriptor:function(a){return c.getDescriptor(this.aspectSiteApi.getSiteData(),a)},getDataByCompId:function(a,b){return c.getDataByCompId(this.aspectSiteApi.getSiteData(),a,b)},getExtraDataByCompId:function(a,b){return c.getExtraDataByCompId(this.aspectSiteApi.getSiteData(),a,b)},getDataByPath:function(a,b){return c.getDataByPath(this.aspectSiteApi.getSiteData(),a,b)},setDataByPath:function(a,b,d){c.setDataByPath(this.aspectSiteApi.getSiteData(),a,b,d),this.aspectSiteApi.forceUpdate()},setBatchedData:function(b,d){var e=this.aspectSiteApi.getSiteData();a.forEach(d,function(a){c.setDataByPath(e,b,a.path,a.value)}),this.aspectSiteApi.forceUpdate()},getMetadata:function(a,b){return b?c.getCompMetadata(this.aspectSiteApi.getSiteData(),a,b):c.getPackageMetadata(this.aspectSiteApi.getSiteData(),a)},setMetadata:function(a,b,d){c.setPackageMetadata(a,this.aspectSiteApi.getSiteData(),b,d),this.aspectSiteApi.forceUpdate()}},d.registerSiteAspect("wixappsDataAspect",e)}),define("wixappsCore",["wixappsCore/core/viewsRenderer","wixappsCore/core/viewsCustomizer","wixappsCore/core/proxyFactory","wixappsCore/core/logicFactory","wixappsCore/core/styleCollector","wixappsCore/core/styleData","wixappsCore/core/ViewContextMap","wixappsCore/core/wixappsDataHandler","wixappsCore/core/wixappsLogger","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/videoThumbDataHandler","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/util/spacersCalculator","wixappsCore/core/wixappsConfiguration","wixappsCore/util/localizer","wixappsCore/core/expressions/functionLibrary","wixappsCore/util/viewsUtils","wixappsCore/util/wixappsUrlParser","wixappsCore/util/socialShareHandler","wixappsCore/util/typeNameResolver","wixappsCore/proxies/proxyMap","wixappsCore/core/wixappsDataAspect"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";return{viewsRenderer:a,viewsCustomizer:b,proxyFactory:c,baseProxy:j,baseCompositeProxy:m,styleData:f,typesConverter:k,logicFactory:d,ViewContextMap:g,wixappsDataHandler:h,wixappsLogger:i,videoThumbDataHandler:l,styleCollector:e,spacersCalculator:n,wixappsConfiguration:o,localizer:p,FunctionLibrary:q,viewsUtils:r,wixappsUrlParser:s,socialShareHandler:t,typeNameResolver:u}});